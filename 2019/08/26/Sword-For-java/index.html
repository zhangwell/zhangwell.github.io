<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.lug.ustc.edu.cn/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="java面试," />










<meta name="description" content="网络基础OSI制定的是概念框架：7层协议。">
<meta name="keywords" content="java面试">
<meta property="og:type" content="article">
<meta property="og:title" content="Sword For Java">
<meta property="og:url" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;index.html">
<meta property="og:site_name" content="Well">
<meta property="og:description" content="网络基础OSI制定的是概念框架：7层协议。">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261200266.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261217747.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261228418.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261239169.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261247780.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261257369.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261278901.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261354806.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261362533.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261373431.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261476354.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261484934.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261500714.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261526343.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261538473.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261644094.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261699701.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261750519.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261761422.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261769541.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261778815.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261789814.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261798658.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261805698.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261813252.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261820297.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261830802.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261842897.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261850318.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261860507.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261871063.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566262283010.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566262067821.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261930304.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261963108.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566262116465.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566262137053.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566262151740.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566262159079.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566262385992.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566263834174.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566264130165.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566265001814.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566264973315.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566268250911.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566268427287.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566528183180.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566528347788.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566528549046.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566528593466.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566528850938.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566528627788.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566528687004.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566528703425.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566528735871.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566528789476.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566269898991.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566270011709.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566270041007.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566517280989.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566517363631.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566518008463.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566518578527.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566518903284.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566518969999.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566520939557.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566521057383.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566521457362.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566522571316.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566522633940.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566524281028.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566524319355.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566524383680.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566524408719.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566524467090.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566524719291.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566525604430.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566526103267.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566526205097.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566526286410.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566526378478.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566526471318.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566270540934.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566270931694.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566270966871.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566530314661.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566271359683.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566538204663.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566271649284.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566539503027.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566539550619.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566539925530.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566539976907.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566540879924.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566541051079.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566541089646.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566541766165.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566541877658.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566542351974.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566542443473.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566542526507.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566542550343.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566542572034.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566280952080.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566280970515.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566281027327.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566281116146.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566281167400.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566281260890.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566281297740.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566281358412.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566281417461.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566281459812.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566281495964.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566281533807.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566281682294.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566281754772.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566282162342.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566282206402.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566282262255.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566282462012.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566282604274.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566282779359.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566282872797.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566283101929.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566283143252.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566283216314.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566283265976.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566283314476.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566283430988.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566283521787.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566283567047.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566284005512.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566284156542.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566284237462.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566284288209.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566284328030.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566346496101.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566634603893.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566634628484.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566346516168.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566634813194.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566739211692.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566739228427.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566739241431.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566739254477.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566739268790.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566739287783.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566739300563.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566739313007.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566739324885.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566739335235.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566739344235.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566739353388.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566739364448.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566739786416.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566740196347.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566740234431.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566740538242.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566740782536.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566740966586.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566741172390.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566741606620.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566741663767.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566741979672.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566742014520.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566742496980.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566742578548.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566742741353.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566742914574.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566743138977.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566743185944.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566743670713.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566743820035.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566744166712.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566744269477.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566744363854.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566744495783.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566744516440.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566744545011.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566744573288.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566744597530.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566744650852.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566744677379.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566774525373.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566774615642.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566774835528.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566744755180.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566744772543.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566744787208.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566744807706.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566744833721.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566744849777.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566744873786.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566744897082.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566744927952.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566744957721.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566745004318.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566775040568.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566775257695.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566775322604.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566775915639.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566776250404.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566776478492.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566776441213.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566776736541.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566776835646.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566777028608.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566777063200.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566777089962.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566777290218.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566777307025.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566777325088.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566777405991.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566286012980.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566286247944.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566286283521.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566286308847.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566286637054.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566287202869.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566287412849.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566287490549.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566287502906.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566288132427.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1568710462272.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1568706469430.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566288990431.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567167431023.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567167408933.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566289552062.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566289709492.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566290019896.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567171193672.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567176014673.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567175751529.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567175785376.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567175825876.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567177495680.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567177516502.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566290353254.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566290416620.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567214818968.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566290826092.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1568773675821.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566290892669.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566291042885.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566777522291.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566291118596.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566291155664.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566291262574.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566291338890.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567217338361.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566291397783.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567217754584.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566291447240.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567217900626.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566291480921.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567218127016.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567218139507.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566291534420.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566291576395.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566291602923.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567219162671.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567219610645.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567219995578.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567223433011.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567223087988.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567223415859.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567223507533.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567224057240.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567224328096.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567224757594.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567224860983.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567224929810.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567224985271.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567225187685.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567226204994.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567131737917.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567132198944.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567132290549.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567132348627.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567132527700.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567132665135.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567132802864.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567133056969.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567133089064.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567133141092.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567133889794.png">
<meta property="og:image" content="https:&#x2F;&#x2F;pic1.zhimg.com&#x2F;80&#x2F;v2-ee924f8693cff51785ad6637ac5b21c1_hd.jpg">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567134047279.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567134582679.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567134623398.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567135465808.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567135556369.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567135577177.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567134859951.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567134968136.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567135018588.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567137963853.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567138042701.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567138130281.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567138269117.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567138332244.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567138744314.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567139561022.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567139336948.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567139966763.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567139981229.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567141357464.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567141421420.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567141491889.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567141574312.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567141612844.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567141729918.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567142579843.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567142610000.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567143238161.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567143257267.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567143313889.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567143353134.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;1567144837023.png">
<meta property="og:updated_time" content="2020-05-24T01:37:52.603Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;08&#x2F;26&#x2F;Sword-For-java&#x2F;Sword-For-java%5C1566261200266.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2019/08/26/Sword-For-java/"/>





  <title>Sword For Java | Well</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Well</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">huo dao lao xue dao lao</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" target="_blank" rel="noopener" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/26/Sword-For-java/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.Zhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Well">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Sword For Java</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-08-26T08:53:16+08:00">
                2019-08-26
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93/" itemprop="url" rel="index">
                    <span itemprop="name">面试总结</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="网络基础"><a href="#网络基础" class="headerlink" title="网络基础"></a>网络基础</h2><p>OSI制定的是概念框架：7层协议。</p>
<a id="more"></a>

<p>物理层：两台物理机器之间传输比特流，定义物理设备的标准，网卡</p>
<p>数据链路层：在传输比特流的过程会产生各种错误，数据链路层应运而生，该层定义了如何格式化数据以进行传输以及控制对物理介质的访问，还提供错误检测和纠正。该层将比特数据组成帧，交换机工作在该层，对帧解码，根据帧中的数据将信息发送到正确的接收方。</p>
<blockquote>
<p>随着网络节点的增加，点对点间的通信是需要经过多个节点的，如何找到目标节点，如何选择最佳路径是首要需求，此时产生网络层</p>
</blockquote>
<p>网络层：其主要功能是将网络地址翻译成对应的物理地址，并决定如何将数据从发送方路由到接收方。发送方综合考虑发送优先权、网络拥塞、服务质量、可选路由的花费决定从网络中一个节点A到另一个网络中B的最佳路径，网络层处理并智能指导数据传送，路由器连接网络各端，所以路由器属于网络层。此层的数据称为数据包。本层关注TCP/IP协议中的IP协议。</p>
<blockquote>
<p>随着网络通信需求的进一步扩大，通信过程中需要发送大量数据，可能需要很长时间，网络在通信过程会中断多次，此时为了保证传输文件的准确性，需要对发出去的数据进行切分，切为数据段。当发生数据段络丢失，失序等情况时，传输层应运而生。</p>
</blockquote>
<p>传输层：解决主机间的数据传输，和传输质量问题。该层传输协议进行流量控制或是基于接收方可接受数据的快慢程度规定适当的发送速率。同时分割数据包以适应在网络上传输（以太网无法接受大于1500字节的数据包），分割数据为数据片，同时在数据片上给定序号，以便接受时可按序排组。需要关注TCP和UDP协议。</p>
<blockquote>
<p>为了不用用户级不要每次调用TCP打包数据，IP协议去寻找路由，现在需要自动收发包，自动寻址的功能，会话层应运而生</p>
</blockquote>
<p>会话层：作用是建立和管理应用程序之间的通信。至此可以保证用用程序能够自动收发包和寻址。</p>
<blockquote>
<p>考虑各应用程序的环境不同，如window和Linux之间的差异，需要表示层来消除</p>
</blockquote>
<p>表示层：解决不同系统之间的通信语法的问题，该层数据将按照网络能够理解的方式进行格式化。此时完成数据转化成相应的字节。</p>
<blockquote>
<p>此时发送方知道发送的数据是什么，转换成字节数据有多长，但接收方并不知道，为了发送方和接收方能够理解传输字节的含义，应用层网络协议诞生</p>
</blockquote>
<p>应用层：应用层网络协议规定消息发送方和接收方必须使用一个固定长度的一个消息头，消息头必须是固定组成，记录各种信息以方便接收方解析。该层旨在让你能够更方便的从网络中接受数据，没有该层也可以在两台主机间传递，但是我们能了解的就是一堆0101编码的字节数组。需要关注TCP/IP协议中的HTTP协议。</p>
<p>这是一个框架来协调和组织各层所提供的服务，但是该模型仅是概念模型，来协调进程间通信标准的制定。实际的实现是TCP/IP协议。</p>
<h3 id="为什么有了MAC层还要走IP层"><a href="#为什么有了MAC层还要走IP层" class="headerlink" title="为什么有了MAC层还要走IP层"></a>为什么有了MAC层还要走IP层</h3><p><code>mac地址就好像个人的身份证号，人的身份证号和人户口 所在的城市，出生的日期有关，但是和人所在的位置没有关系</code>，人是会移动的，知道一个人的身份证号，并不能找到它这个人，mac地址类似，它是和设备的生产者，批次，日期之类的关联起来，知道一个设备的mac，并不能 在网络中将数据发送给它，除非它和发送方的在同一个网 络内。所以要实现机器之间的通信，还需要有ip地址的概念，ip地址表达的是当前机器在网络中的位置，类似于 城市名+道路号+门牌号的概念。通过ip层的寻址，我们能知道按何种路径在全世界任意两台Internet上的的机器间传输数据</p>
<h3 id="TCP的三次握手"><a href="#TCP的三次握手" class="headerlink" title="TCP的三次握手"></a>TCP的三次握手</h3><p>IP协议是无连接的协议，他不会占用两个正在通信的计算机之间的通信线路，这样IP就降低了对网络线路的需求每条线可以同时满足许多不同计算机之间的通信需要。通过IP协议，消息或者其他数据会被分割为较小的包，并通过因特网在计算机之间传送，IP负责将每个包路由至他的目的地，但是IP协议未作任何事来确认数据包是否安全到达，所以他是不可靠的，需要他的上层协议来控制。传输控制协议TCP是传输层的协议。（简介）</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261200266.png" alt="1566261200266"></p>
<p>TCP报文头：</p>
<p>源端口和目的端口各2个字节，TCP/UDP都是不包含IP地址信息的，两者头部都会有端口号，这是在传输层范畴的知识。两个进程在计算机内部进行通信可以有：管道、内存共享、信号量和消息队列等方法。其中最唯一要求是唯一的表示对方进程，在本地进程中可以使用PID，但是在网络中的不同主机中使用便失效了，解决方式就是在传输层中使用协议端口号，已知在网络层中IP可以唯一标识一个主机，而TCP协议和端口号可以唯一标识主机中的一个进程，这样可以利用IP地址+协议+端口号这样的唯一标识去表示网络中的一个进程，这种方式也成为套接字。这样，虽然通信的重点是应用进程，但是我们只要把要传送的报文交到目的主机的某一个合适端口中，剩下的工作就由TCP来完成了。</p>
<p>sequence number（seq序号）4字节，tcp连接中传送的字节流中的每个字节都有序号，例如一段报文的序号字段值是107，携带的数据字节数是100，那么下一个报文段的序号就是107+100，即从207开始。</p>
<p>ACK number（ack序号）4字节，表示期望收到对方下一个报文的第一个字节的序号。例如B收到A发送的报文seq序号是301，全部数据是200字节，B正确收到从A发送的序号到500（301+200-1）的数据，所以B期望收到的A的下一个数据序号是501，于是，B在发送给A的确认报文中，会把ack确认号置为501。</p>
<p>TCP Flags</p>
<ul>
<li>ACK：确认序号标志，1有效，0表示报文中不含确认信息，忽略确认号字段</li>
<li>SYN：同步序号，用于建立连接过程</li>
<li>FIN：finish标志，用于释放连接，1时表示发送方已经没有数据发送了，即关闭本方数据流。</li>
</ul>
<p>Window窗口：滑动窗口大小，告知发送端接收端的缓存大小（还有多少空间可以接收数据），以此控制发送端发送数据速率，从而达到流量控制</p>
<p>通信过程：</p>
<p>当应用程序希望通过TCP和另一个应用程序通信时，会发送一个通信请求，必须有一个确切地址，在双方握手后TCP将在两个程序间建立一个全双工的通信，将占据两个计算机的通信线路，直到双方关闭为止。（三次握手）</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261217747.png" alt="1566261217747"></p>
<p>第一次A发送seq=x，B响应时，ack=x+1表示期望下一个从A发来的报文字节从x+1开始，同时B也发送一个自己的缓存初始化序列号seq=y，这里第二次握手完成。A收到确认后，还要向B给出一个确认：小ack=y+1，表示期望从B接受到的报文字节从y+1开始，同时，自己的报文序号从seq=x+1开始（B告知的），此时TCP连接建立，其中第三个报文可以携带数据，前两个不可以。</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261228418.png" alt="1566261228418"></p>
<p>为什么要三次连接？</p>
<p>为了初始化Sequence Number 的初始值，通信双方要互相通知初始化的Sequence Number，也就是x和y，这是是作为以后的数据通信的序号，以保证应用层接收到的数据不会因为网络上的传输发生错误，即TCP会用这个数值来拼接数据。所以需要第三次握手：告知服务端，客户端已经知道了你的Sequence Number 了。</p>
<p>第一次握手的隐患！SYN的超时问题！</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261239169.png" alt="1566261239169"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261247780.png" alt="1566261247780"></p>
<p>连接后客户端故障怎么办？</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261257369.png" alt="1566261257369"></p>
<p>TCP四次挥手？</p>
<p>即断开连接时需要客户端和服务端总共发送4各数据包来确认断开连接。</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261278901.png" alt="1566261278901"></p>
<p>客户端开始发送连接释放报文，并且停止发送数据，FIN=1，seq=u（已传送的最后一个字节的序号）；服务器收到后发出确认报文，ACK=1，小ack=u+1（表示期望从客户端收到的下一个报文从字节u+1开始），seq=v（表示自己的序列号）；此时服务端进入关闭等待状态，TCP通知高层进程客户端要释放联系了，这是出于半关闭状态：即客户端已经不发送数据了，服务端发送数据客户端还是会接受的。此时客户端进入等待关闭状态2，等待服务器的第3次挥手请求。等到服务器发送完数据后，服务器便发送连接释放报文，FIN=1，ACK=1，ack=u+1（表示客户端发送的下一个报文字节号从哪开始），seq=w（表示自己的序列号）；最后，客户端发送确认报文，ACK=1，ack=w+1，seq=u+1（自己的序号），此时客户端进入等待状态，还没完全关闭（2MSL），服务端已经完全关闭，完成4次挥手。</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261354806.png" alt="1566261354806"></p>
<p>为什么客户端要等待2MSL再关闭？</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261362533.png" alt="1566261362533"></p>
<p>为什么需要四次挥手？</p>
<p>因为全双工，发送方和接收方都需要FIN报文和ACK报文，即发送方和接收方各只需两次挥手，因为有一方是被动的，所以看上去是4次挥手。？？？？？？？？？？？</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261373431.png" alt="1566261373431"></p>
<h3 id="UDP报文"><a href="#UDP报文" class="headerlink" title="UDP报文"></a>UDP报文</h3><p>不支持像TCP滑动窗口、错误重传等机制。</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261476354.png" alt="1566261476354"></p>
<p>吞吐量不受拥塞控制。面向报文，添加首部后直接向下交付给IP层</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261484934.png" alt="1566261484934"></p>
<h3 id="滑动窗口"><a href="#滑动窗口" class="headerlink" title="滑动窗口"></a>滑动窗口</h3><p>RTT：发送一个数据包到接收到对应ACK，所花费的时间</p>
<p>RTO：TCP在发送一个数据报后会启用数据重传计时器，收到ACK时他就失效，未收到ACK而且计时器时间也到了，那就要重传。</p>
<p>为了实现数据的批量传送，同时解决可靠性和包乱序的问题，所以TCP需要知道网络实际的处理带宽或是数据处理速度，这样才不会引起网络拥塞，导致丢包。</p>
<ul>
<li>保证TCP的可靠性</li>
<li>保证TCP的流控特性</li>
</ul>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261500714.png" alt="1566261500714"></p>
<h3 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h3><p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261526343.png" alt="1566261526343"></p>
<p>特点：客户端像服务端请求数据的时候只需传送请求方法（get/post等）和路径。http1.1开始默认使用长连接，即服务器需要等待一段时间才断开连接。无状态协议，指协议对事物处理无记忆能力。</p>
<p>请求结构：</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261538473.png" alt="1566261538473"></p>
<p>响应结构：</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261644094.png" alt="1566261644094"></p>
<p>总结：http协议定义了web客户端如何从web服务器请求web页面，以及服务器如何把web页面传送给客户端，http协议采用了请求响应模型，客户端向服务器发送一个请求报文，包含请求方法，url，协议版本，请求头部，请求数据；服务器以一个状态行作为响应，响应内容包括，协议版本，错误或成功信息，服务器信息，响应头部和响应数据。</p>
<ul>
<li>连接：客户端与web服务器的http端口建立一个TCP套接字连接</li>
<li>发送请求：即通过套接字客户端向web服务端发送一个文本的请求报文</li>
<li>响应：服务器解析请求，定位请求资源，将资源副本写到TCP套接字，由客户端读取</li>
<li>释放连接：keep-live长连接会保存一段时间，该时间内请求还会响应</li>
<li>客户端解析：首先解析状态行，查看表明请求是否成功的状态代码，解析响应头，响应头告知以下若干数据为数据信息，客户端按照格式解析数据，在浏览器窗口显示。</li>
</ul>
<p>URL输入后的流程？？？</p>
<ol>
<li>DNS解析：浏览器会根据url逐层查询DNS服务器缓存，解析url中的域名所对应的IP地址（DNS缓存从近到远为浏览器缓存，系统缓存，路由器缓存，IPS服务器缓存，根域名服务器缓存，顶级域名服务器缓存），此时找到IP地址</li>
<li>TCP连接：找到IP地址后会根据IP地址和对应端口与服务器建立TCP连接（三次握手）</li>
<li>发送HTTP请求：浏览器会发起读取文件的http请求，</li>
<li>服务器处理请求并返回HTTP报文：服务器对浏览器请求响应，并把对应的带有http文本的http响应报文发送给浏览器</li>
<li>浏览器解析渲染页面：浏览器收到报文，解析渲染到浏览器</li>
<li>释放连接</li>
</ol>
<p>状态码</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261699701.png" alt="1566261699701"></p>
<p>GET和POST请求区别</p>
<ol>
<li>Http报文层：get将请求信息放在url中，请求信息和url以问号？隔开，请求信息的格式为键值对；post请求将请求信息放在报文体中，想获得请求信息必须解析报文，因此安全性较高。而且get请求会有长度限制，post无限制。</li>
<li>数据库层面：get符合幂等性和安全性，多次访问数据库的结果是一样的，不改变数据库的值；post都不符合。</li>
<li>其他层面：get请求能够被缓存，保存在浏览器的浏览记录中；post不具备。通常绝大部分的get请求都被cdn缓存了，大大减少了服务器的压力，而post请求必须要服务器来处理。</li>
</ol>
<p>cookie和session的区别</p>
<p>因为Http是无状态的，每次我们访问有登陆需求的业务时都要输入账号密码，使用cookie和session避免了这种情况。</p>
<p>cookie：客户端机制。由服务器发送给客户端的特殊信息，以文本的形式存放在客户端，客户端每次向服务器发送请求的时候都会带上这些特殊信息；当客户使用浏览器访问一个支持cookie的网站时，用户会提供一个包括用户名在内的个人信息并且提交至服务器，紧接着服务器向客户端回传相应的超文本时也会发回这些个人信息，这些是放在http响应头中，当用户端接受来自服务器的响应后，浏览器会将这些信息存放在统一位置，自此客户端再向服务器发送请求的时候，会把相应的cookie再次发送至服务器中，这次cookie将会存放在http请求头中，有了cookie后，服务端再次接受请求后，会解析存在于请求头中的cookie得到客户端特有的信息，从而动态生成与该客户端相应的内容。</p>
<p>cookie的设置和发送过程：</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261750519.png" alt="1566261750519"></p>
<p>session：服务器端机制。当程序需要为某个客户端请求创建一个session时，服务器首先检查这个客户端的请求里是否已包含了一个session标识，称为sessionId，如果包含，则说明以前已为该客户端创建过session，服务器就按照sessionId把这个session检索出来使用（检索不到就生成一个）。不包含就创建一个session和与此相关的sessionId。这个sessionId将会回发给客户端进行保存。</p>
<p>实现方式：</p>
<p>使用cookie实现，服务器给每个session分配一个唯一的JSESSIONID，并通过cookie发送给客户端，待客户端发送新的请求时，将在cookie头中携带这个JSESSIONID，这样服务器能够找到客户端对应的session。</p>
<p>使用URL重写实现，是指服务器在发送给浏览器页面的所有链接中都携带JSESSIONID参数，这样客户端点击任何链接都会将JSESSIONID带回服务器。如果直接在浏览器输入服务器资源url，是请求不到session的，tomcat对session的实现是同时使用cookie和url重写。</p>
<p>区别：</p>
<p>cookie数据存放在客户的浏览器上，session数据放在服务器上</p>
<p>session相对于本地存放的cookie更安全</p>
<p>session会一定时间内保存在服务器上，当缓存增多时会影响服务器性能，应当使用cookie</p>
<p>HTTP和HTTPS</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261761422.png" alt="1566261761422"></p>
<p>简单说就是安全版的http协议。</p>
<p>SSL：</p>
<ul>
<li>为网络通信提供安全及数据完整性的一种安全协议。</li>
<li>是操作系统对外的API，后更名为TLS</li>
<li>采用身份验证和数字加密保证安全性</li>
</ul>
<p>加密的方式：</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261769541.png" alt="1566261769541"></p>
<p>数字签名：就是在信息后面加上一段内容，这些内容证明信息没有被修改过。</p>
<p>HTTPS流程：</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261778815.png" alt="1566261778815"></p>
<p>区别：</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261789814.png" alt="1566261789814"></p>
<h3 id="Socket"><a href="#Socket" class="headerlink" title="Socket"></a>Socket</h3><p>唯一标识一个进程：本地中使用PID；</p>
<p>网络中进程：IP地址+协议+端口号来唯一标识一个网络中的一个进程；</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261798658.png" alt="1566261798658"></p>
<p>socket通信流程</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261805698.png" alt="1566261805698"></p>
<h2 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h2><p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261813252.png" alt="1566261813252"></p>
<h3 id="题：如何设计一个数据库"><a href="#题：如何设计一个数据库" class="headerlink" title="题：如何设计一个数据库"></a>题：如何设计一个数据库</h3><p>开始设计</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261820297.png" alt="1566261820297"></p>
<p>数据库最主要的功能是存储数据，因此他有一个存储模块，将数据持久化存入磁盘中；</p>
<p>我们还需要组织并且用到这些数据，所以需要程序实例来映射出物理结构。</p>
<p>实际程序时要考虑：存储管理（尽量优化减少IO操作），缓存机制（优化访问），sql解析（操作数据库，优化可将sql放入缓存，编译好的sql可以直接用），日志管理（记录操作），权限划分，异常机制（容灾），<strong>索引管理</strong>（优化查询），<strong>锁管理</strong>（并发）</p>
<h3 id="索引模块"><a href="#索引模块" class="headerlink" title="索引模块"></a>索引模块</h3><p>为什么使用索引？</p>
<p>直接加在到内存中，进行全表扫描，很慢。使用索引避免全表查询，加速查询数据；</p>
<p>什么样的信息能够称为索引？</p>
<p>主键，唯一键，普通键，有一定区分性</p>
<p>主键：唯一标识表中的每一行数据，特点不能为空！！！不能重复！！！</p>
<blockquote>
<p><code>auto_increment</code>的字段必须是主键, 但是主键不一定是<code>auto_increment</code>的, 只要是唯一的就可以 一个表只能有一个主键, 但是主键可以是1个或多个字段组成</p>
</blockquote>
<p>唯一键：将表中的某个字段设置为不可重复值，可以将其设为唯一键！！！</p>
<blockquote>
<p>唯一键不是主键，但主键有不可重复性</p>
<p>一张表可以有多个唯一键，但只能有一个主键</p>
</blockquote>
<p>有了关键字索引还不行，还需要以某种数据结构将其组织起来才能够使检索更高效。</p>
<p>磁盘文件存储</p>
<p>页是计算机管理存储器的逻辑块，硬件及操作系统往往将主存和磁盘存储区分割为连续的大小相等的块，每个存储块称为一页（在许多操作系统中，页得大小通常为4k），主存和磁盘以页为单位交换数据。</p>
<p>InnoDB存储引擎中有页（Page）的概念，页是其磁盘管理的最小单位。InnoDB 存储引擎中默认每个页的大小为 16 KB，因此 InnoDB 每次申请磁盘空间时都会是若干地址连续磁盘块来达到页的大小 16KB 。InnoDB 在把磁盘数据读入到磁盘时会以页为基本单位，在查询数据时如果一个页中的每条数据都能有助于定位数据记录的位置，这将会减少磁盘 I/O 次数，提高查询效率。</p>
<p>文件系统及数据库系统的设计者利用了磁盘预读原理，将一个节点的大小设为等于一个页，这样每个节点只需要一次I/O就可以完全载入。</p>
<p>索引的数据结构？</p>
<p>二叉树：二分查找，缺点：每个节点只能存储两个节点，树的深度很深，IO的操作就会很多，效率就很差</p>
<p>B数：树的每个节点最多有m个孩子，就是m阶B树，下图3阶：</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261830802.png" alt="1566261830802"></p>
<p>特性：</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261842897.png" alt="1566261842897"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261850318.png" alt="1566261850318"></p>
<p>让每个索引块尽可能存储更多信息，让树的高度低，减少IO次数；</p>
<p>B+树：</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261860507.png" alt="1566261860507"></p>
<p>结论：B+树更适合，原因：</p>
<p>B+树的磁盘读写代价更低，内部（非叶子节点）并没有指向关键字具体信息的指针，不存放数据只存放索引信息。</p>
<p>查询效率更稳定，每次查询都是根节点到叶子节点的路径，查询基本一样</p>
<p>只需要遍历叶子节点就可以完成对全部关键字的扫描，所以他更有利于对数据库的扫描。（更适合范围条件查询）</p>
<p>Hash索引了解一下：</p>
<p>缺点：</p>
<ul>
<li>比较进行hash运算之后的值，仅满足等值查询，不能使用范围查询；</li>
<li>无法运用索引值来排序</li>
<li>不能利用部分索引键查询</li>
<li>不能避免表扫描，哈希值可能重复，需要全表扫描</li>
<li>大量hash值相等时，效率很底。</li>
</ul>
<p>密集索引和稀疏索引</p>
<p>密集索引：叶子节点不仅保存了索引值，还保存了其同一行的其他列的数据。</p>
<blockquote>
<p>所有完整的用户记录都存放在这个<code>聚簇索引</code>的叶子节点处。在<code>InnoDB</code>存储引擎中，<code>聚簇索引</code>就是数据的存储方式</p>
</blockquote>
<p>稀疏索引：叶子节点仅保存了键位信息及其主键。</p>
<p>InnoDB的索引</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261871063.png" alt="1566261871063"></p>
<p>如何定位并优化慢查询sql？</p>
<ul>
<li><p>根据慢日志定位慢查询sql（较慢sql执行的记录）</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566262283010.png" alt="1566262283010"></p>
</li>
<li><p>使用explain等工具分析sql</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566262067821.png" alt="1566262067821"></p>
<ul>
<li>一般放在select查询语句前，用于描述MySQL如何执行查询操作，以及MySQL成功返回结果集需要执行的行数</li>
<li>字段：type表示MySQL找到数据行的方式，性能最优到最差如图，index/all表示是全表查询。</li>
</ul>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261930304.png" alt="1566261930304"></p>
<ul>
<li>字段：extra，如图</li>
</ul>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566261963108.png" alt="1566261963108"></p>
</li>
<li><p>修改sql或者尽量让sql走索引</p>
<ul>
<li>改用索引查</li>
</ul>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566262116465.png" alt="1566262116465"></p>
<ul>
<li>添加索引</li>
</ul>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566262137053.png" alt="1566262137053"></p>
</li>
<li><p>使用fore_index()测试那个索引更好</p>
</li>
</ul>
<p>联合索引的最左匹配原则的成因？</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566262151740.png" alt="1566262151740"></p>
<p>MySQL创建复合索引的规则是首先会对最左边的也就是第一个字段进行排序，在第一个字段排序的基础上再对第二个字段排序，所以第一个字段是绝对有序的，第二个字段就是无序的了，因此通常情况下直接使用第二个字段进行条件判断是用不到索引的。这就是MySQL联合索引强调最左匹配的原因。</p>
<p>索引建立的越多越好吗？</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566262159079.png" alt="1566262159079"></p>
<h3 id="锁"><a href="#锁" class="headerlink" title="锁"></a>锁</h3><p>Myisam：表级锁，不支持行级锁</p>
<p>InnoDB：默认行级锁，支持表级锁，</p>
<blockquote>
<p>注：当SQL语句中使用索引作为条件时，使用的是行级索，当不用索引时，整张表会被锁住，使用的是表级锁，</p>
</blockquote>
<p>无论表锁还是行锁，默认都分为共享锁和排他锁</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566262385992.png" alt="1566262385992"></p>
<p>场景分析：</p>
<p>MyISAM</p>
<ul>
<li>适用频繁执行全表count语句；因为有一个变量值存储了该值</li>
<li>适用增删改不高，查询频繁；因为增删改会涉及锁表操作，会产生很多碎片，但是纯查询效率是可以的</li>
<li>适合没有事务的</li>
</ul>
<p>InnoDB</p>
<ul>
<li>适合数据增删改查都频繁；增删改时某些行被锁，避免了被阻塞，不像MyISAM每次锁住整张表</li>
<li>支持事务的系统</li>
</ul>
<p>数据库锁分类：</p>
<ul>
<li>按粒度划分：表级锁，行级锁，页级锁</li>
<li>按级别划分：共享锁，排他锁</li>
<li>按加锁方式：自动锁（意向锁，MyISAM表锁，以及增删改时的锁），显示锁</li>
<li>按操作划分：DML锁（数据操作），DDL锁（表结构变更）</li>
<li>按使用方式：乐观锁（认为数据处理过程不会发生冲突，提交更新时才会检测，实现方式是记录数据版本：版本号或者时间戳），悲观锁（全程使用排他锁）</li>
</ul>
<p>数据库事务的特性</p>
<p>ACID：原子性，一致性，隔离性，持久性</p>
<p>事务的隔离性以及各级别下的并发问题</p>
<p>更新丢失——MySQL所有事务隔离级别在数据库层面上均可避免</p>
<p>脏读——一个事务读到另一个事务未提交的更新数据，READ-UNCOMMITTED事务隔离级别不能解决，使用READ-COMMITTED（读提交）级别，隔离一个事物读取另一个事务未提交数据</p>
<p>不可重复读——一事务A多次读取数据，另一事务B在此期间修改数据，导致事务A多次读取数据不一致，使用REPEATABLE-READ（可重复读）级别可以避免。</p>
<p>幻读——事务A读取匹配条件的行数据，事务B以插入或删除的方式修改A的结果集，导致事务A产生差错。设置为SERIALIZABLE可以避免。</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566263834174.png" alt="1566263834174"></p>
<p>InnoDB在可重复度隔离级别下是如何避免幻读？</p>
<p>表象：快照度（非阻塞读）——伪MVCC</p>
<p>内在：next-key锁（行锁+gap锁）</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566264130165.png" alt="1566264130165"></p>
<p>当前读表示：读取的是记录的最新版本，并且读取后保证其他并发事务不能修改当前记录，对读取记录加锁。</p>
<p>快照读是基于提升并发性能的考虑，基于多版本并发控制（MVCC），他是行级锁的变动，但是他在很多情况下避免了加锁操作，开销更低，由于是基于多版本快照，所以读到的数据不是最新版本。</p>
<p>RC、RR级别下InnoDB的非阻塞读（快照读）如何实现？</p>
<ol>
<li>每行数据的额外字段，DB_TRX_ID（最近一次事务标识符），DB_ROLL_PTR（回滚指针段），DB_ROW_ID（行号，隐藏主键）</li>
<li>undo日志，当我们对记录做了变更操作时就会产生undo日志，其中存储的是老版数据</li>
</ol>
<p>例：数据（11，12，13）修改为（11，32，13）时，会发生：</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566265001814.png" alt="1566265001814"></p>
<p>再次修改为（11，32，45）时会发生：</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566264973315.png" alt="1566264973315"></p>
<ol start="3">
<li>read view可见性判断，当使用快照读时，会创建一个read view，告知我们读的是哪一个版本，根据可见性算法，将DB_TRX_ID取出与系统其他活跃事务ID对比，如果大于或者等于，就取出undo log中的版本，直到取出小于活跃事务ID号（事务ID是递增状态，越新开启的事务，ID越大）</li>
</ol>
<p>因为<strong>生成时机</strong>？？？的不同造成RC,RR隔离级别的不同可见性，在RR级别下，事务在开启事务的第一条快照读会创建一个快照，即read view，将当前系统中活跃的其他事务记录起来，此后在调用快照读时还是使用同一个read view；而在RC级别下，事务中每次调用快照读时都会创建一个新的快照，这就是为什么在RC下能够看到别的事务提交的对表记录的增删改。而在RR下，如果首次使用快照读是在别的事物对数据做出增删改并提交之前的，此后即便别的事物对数据进行增删改并提交还是读不到数据变动的原因。对RR来说，首次事务调用快照读的时机很重要。</p>
<p><strong>正是因为上面三个原因，使得InnoDB在RR、RC级别支持非阻塞读，而读取数据时的非阻塞就是MVCC，而InnoDB的非阻塞读实现了MVCC的仿照版；MVCC代表多版本并发控制，读不加锁，读写不冲突，在读多写少的应用中，读写不冲突很重要。这里仅实现伪MVCC机制是因为并没有实现核心的多版本并存，undo log中的内容是串行化的结果，记录了多个事务的过程，不属于多版本共存。</strong></p>
<p>next-key锁（行锁+gap锁）</p>
<ul>
<li>行锁：对单个行记录上锁，锁定一个记录上的索引，而不是记录本身。</li>
<li>gap锁：gap表示索引树中插入新纪录的空隙，gap锁即锁定一个范围但不包括记录本身，是为了方式同一事物的两次当前读出现幻读的情况</li>
</ul>
<p>在RR及以上级别默认都支持gap锁，RC及以下级别都没有gap锁。</p>
<p>RR级别下gap锁的使用场景，对主键索引或唯一索引会使用gap锁吗？</p>
<ul>
<li>如果where条件全部命中，就不会用gap锁，只会加记录锁（行锁）</li>
<li>如果where条件部分命中或者未命中，就会加上gap锁</li>
</ul>
<p>gap锁会出现在非唯一索引或者不走索引的当前读中</p>
<p>非唯一索引：</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566268250911.png" alt="1566268250911"></p>
<p>gap会在（6，9]，（9，11] 这两个区间加上gap锁，防止幻读。</p>
<p>不走索引</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566268427287.png" alt="1566268427287"></p>
<p>会对所有gap上锁，类似表锁，也能防止幻读。</p>
<p>InnoDB在RR级别主要通过引入next-key锁来避免幻读问题，next-key由行锁和gap锁，gap锁会用在非唯一索引或者不走索引的当前读以及仅命中检索条件的部分结果集并且用到主键索引以及唯一索引的当前读中。</p>
<h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h2><h3 id="linux体系结构"><a href="#linux体系结构" class="headerlink" title="linux体系结构"></a>linux体系结构</h3><p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566528183180.png" alt="1566528183180"></p>
<p>在Linux系统启动时候首先会启动内核，内核程序直接管理硬件，包括CPU、内存空间、硬盘接口、网络接口等。所有的计算机操作都要通过内核传递给硬件设备。用户态及上层应用程序的活动空间、应用程序的执行必须依托于内核提供的资源，包括cpu资源、存储资源、IO资源等，为了使上层应用能够访问这些资源，内核必须为这些上层应用提供访问的接口，即系统调用；可以将其视为一种不能再简化的操作，一个操作系统上的功能可以看作是系统调用的组合结果。公用函数库是对系统调用的组合。</p>
<p>shell：是一个特殊的应用程序，本质是一个命令解释器。</p>
<h3 id="指令"><a href="#指令" class="headerlink" title="指令"></a>指令</h3><p>查找文件</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566528347788.png" alt="1566528347788"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566528549046.png" alt="1566528549046"></p>
<p>文本检索、</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566528593466.png" alt="1566528593466"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566528850938.png" alt="1566528850938"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566528627788.png" alt="1566528627788"></p>
<p>文件内容的统计</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566528687004.png" alt="1566528687004"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566528703425.png" alt="1566528703425"></p>
<p>替换文本内容</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566528735871.png" alt="1566528735871"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566528789476.png" alt="1566528789476"></p>
<h2 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h2><p>Mysql数据库也有缓存，但是是针对查询内容，一般只有表中的数据没有变动的时候，缓存才有作用，这并不能减轻业务系统对数据库的I/O压力，因此缓存数据库应运而生。</p>
<p>缓存数据库：实现对热点数据的高速缓存，提高响应速度，缓解后端数据库的压力。</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566269898991.png" alt="1566269898991"></p>
<blockquote>
<p>熔断：存储层挂了，直接访问缓存层。</p>
<p>穿透：未在缓存中换取数据，直接访问存储层</p>
</blockquote>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566270011709.png" alt="1566270011709"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566270041007.png" alt="1566270041007"></p>
<p>为什么Redis这么快？</p>
<ul>
<li>完全基于内存操作，绝大多数请求是纯内存操作，执行效率高；</li>
<li>数据结构简单，操作也就简单；</li>
<li>使用单线程，是指主线程是单线程的，这里主线程包括I/O事件处理、过期键处理、复制协调、集群协调，这些处理IO事件的逻辑会被封装成周期性的任务由主线程周期性处理。单线程设计，对于客户端的所有读写请求，都由一个主线程串行处理，因此多个客户端同时对一个键进行写操作时候就不会有并发的问题，避免频繁的上下文切换、锁竞争问题；</li>
<li>redis单线也可以处理高并发请求，并发性IO流指让一个计算单元处理来自多个客户端的流请求，redis使用单线程配合上IO多路复用可大幅度提升性能，这里的单线程是指处理网络请求只有一个单线程来处理；一个正式的redis servlet肯定是不止一个进程的。</li>
<li>多路I/O复用模型，即非阻塞I/O；redis是单线程的，所有的操作是按照顺序线性执行的，但是由于读写操作，等待用户输入或者输出都是阻塞的，所以IO操作往往不能直接返回就会导致某一文件的IO阻塞，进而进程无法对其他客户端提供服务；IO多路复用就是解决这个问题！</li>
</ul>
<blockquote>
<p>FD：一个打开文件通过唯一的描述符进行引用。</p>
</blockquote>
<p>传统的IO阻塞模型，当进行读写操作时，不可读或者不可写时，整个redis就不会对其它操作进行响应，导致整个服务不可用。</p>
<p>IO多路复用调用，这其中最重要的函数调用就是select系统调用，select能够同时监控多个文件描述符的可读可写情况，当文件描述符可读可写时就会返回响应的参数，即将监听文件读写情况的任务交给select，程序就可以继续做别的而不被堵塞</p>
<p>基于react设计模式来实现文件事件处理器，文件事件处理器使用IO多路复用模块同时监听多个FD，当发生文件读写函数（read、write、close等）事件时，文件事件处理器就会回调FD绑定的事件处理器，虽然文件事件处理器是在单线程上，但是通过IO多路复用，实现同时对多个FD读写的监控，提高了网络通信模型的性能。</p>
<p>同时也有其他的IO多路复用函数：</p>
<ul>
<li>evport：Linux</li>
<li>kqueue：MAC OS</li>
<li>select：都兼容，作为保底函数，O(n)</li>
</ul>
<h3 id="数据类型："><a href="#数据类型：" class="headerlink" title="数据类型："></a>数据类型：</h3><p>String类型：最基本的，二进制安全（即可以包含任何数据），常用的key-value键值对，最大可存储512M，底层由简单动态字符串实现。</p>
<blockquote>
<p>案例：记录一个用户每天访问这个网站的次数，只需要拼接用户id和代表当前时间的字符串作为key，每次用户访问时对这个页面时，对这个字符执行incr命令即可，就可以统计用户当天访问站点的次数。</p>
</blockquote>
<p>Hash：String元素组成的，适合存储对象</p>
<p>List：按照String插入元素顺序排序，类似于栈的，使用可以用于最新消息，排行榜</p>
<p>Set：String类组成的无序集合，通过hash表实现，不允许重复，使用于共同关注，共同喜好值之类的交并集操作</p>
<p>Sorted Set：通过分数(double类型的)来为集合中的成员进行从小到大的排序，不重复</p>
<p>例题：从海量key中查询某一固定前缀的Key？</p>
<ol>
<li>数据规模大小</li>
<li>误区：用keys pattern扫描出符合条件的key列表，问题在于当redis正在执行服务时会发生什么？当key的数量过大时会发生内存消耗过大而卡顿</li>
<li>正确：使用SCAN cursor指令，每次只会返回少量元素；基于游标的迭代器，基于上一次的游标延续之前的迭代过程</li>
</ol>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566517280989.png" alt="1566517280989"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566517363631.png" alt="1566517363631"></p>
<p>如何通过Redis实现分布式锁？</p>
<p>分布式锁是控制分布式系统或不同系统之间共同访问共同资源的一种锁的实现。如果不同系统或者同一系统不同主机间共享了某个资源时，往往需要互斥来防止彼此干扰，进而保证一致性。分布式锁需要解决的问题有：</p>
<ul>
<li>互斥性：任意时刻，只能有一个客户端获取锁；</li>
<li>安全性：锁只能由获取该锁的客户端删除，不能由其他客户端删除</li>
<li>死锁：避免获取锁的客户端因为宕机而未能释放锁</li>
<li>容错：当部分节点（例如redis）宕机时，客户端仍能正常获取锁，释放锁</li>
</ul>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566518008463.png" alt="1566518008463"></p>
<p>SETNX的原子操作和保持不变，可以用来实现分布式锁。在执行一段程序时，可以先尝试对某个key设值，如果设值成功则表示当时没有别的线程在执行该段代码或者说占用该独占资源。这里需要解决的就是key值的时间问题，因为SETNX设置完该值就存在了。</p>
<p>解决key值得时效问题：</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566518578527.png" alt="1566518578527"></p>
<p>缺点的原子性在于：如果一个线程只执行到setnx语句后就挂了，那么设置的key值将会一直存在，其他线程就无法访问后面的资源。两个原子操作（setnx和expire）组合成一个逻辑，就变得不是原子操作了。</p>
<p>正确操作：</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566518903284.png" alt="1566518903284"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566518969999.png" alt="1566518969999"></p>
<p>如果有大量key同时过期得注意事项?</p>
<ol>
<li>集中过期时处理key会很耗时，出现卡顿现象</li>
<li>解决：在设置key过期时间时，加上随机值</li>
</ol>
<p>如何使用Redis做异步队列？</p>
<p>使用List作为队列，RPUSH生产消息，LPOP消费消息。</p>
<ul>
<li>缺点：在于没有等待队列中有值（消息）时就直接消费，</li>
<li>处理：可以通过应用层引入Sleep机制去调用LPOP重试。</li>
</ul>
<p>加上无消息时阻塞方式</p>
<ul>
<li>缺点：生产得消息只能供一个消费者使用，用完就没了</li>
<li>改进：使用主题订阅者模式</li>
</ul>
<p>pub/sub主题订阅者模式</p>
<ul>
<li>发送者pub发送消息，订阅者sub接收消息</li>
<li>订阅者可以订阅任意数量得频道</li>
<li>缺点：消息得发布是无状态的，无法保证可达，对发布者来说消息是即发即失的，如果消息发送时一个订阅者下线了，重新上线时，消息是不会重新收到的，要解决这个问题需要使用专业的消息队列，例如kafuka等。</li>
</ul>
<h3 id="Redis的持久化"><a href="#Redis的持久化" class="headerlink" title="Redis的持久化"></a>Redis的持久化</h3><p>RDB（快照）持久化：即保存某个时间点的全量数据快照；</p>
<ul>
<li>创建方式：save，使用主线程执行快照，该方法会阻塞redis的服务器进程（阻塞客户端请求操作），直到快照文件被创建完毕（很少用）</li>
<li>bgsave，会fork出一个子进程来创建rdb文件，不会阻塞服务器进程，父进程通过轮询接受子进程完成的信号</li>
<li>其他自动化出发RDB持久化</li>
</ul>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566520939557.png" alt="1566520939557"></p>
<p>BGSAVE底层实现方式：</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566521057383.png" alt="1566521057383"></p>
<ol>
<li>查询子进程是否有冲突</li>
<li>系统调用fork()函数：创建进程，实现copy-on-write（写时复制），传统方式下fork在创建子进程时会将资源全部复制给子进程，简单但是效率低。Linux环境下该进fork方式，当父进程创建子进程时，内核只为子进程创建虚拟空间，父子进程使用的是相同的物理空间，只有父子进程发生更改时，才会为子进程分配独立的物理空间</li>
</ol>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566521457362.png" alt="1566521457362"></p>
<p>优点在于：如果调用者没有修改资源，则不会发生复制操作，因此多个调用者只是读取操作时可以共享资源。COW调用时会维持一个为读操作请求的指针，并在读完后更新这个指针，以提升读写并发能力。因此COW也提供了数据更新过程中的原子性，提升了读写效率。当redis执行持久化时，redis会fork一个子进程，子进程将数据持久化到一个临时的RDB文件中，当完成写操作后，将原来的rdb替换掉，这样做的好处就是可以实现COW操作。</p>
<p>持久化时，子父进程都存在，父进程继续处理客户端请求，子进程负责将内存内容写入临时文件中，由于OS的COW操作，父子进程会共享相同的物理页面，当父进程处理写请求的时候，OS会为父进程调修改的页面创建副本，而不是写共享的页面，所以子进程的地址空间内的数据是fork时刻的整个数据库的快照，子进程完成写操作时，只要替代原快照，然后退出，这样就完成一次备份操作。</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566522571316.png" alt="1566522571316"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566522633940.png" alt="1566522633940"></p>
<p>使用日志重写解决aof文件不断增大的问题</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566524281028.png" alt="1566524281028"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566524319355.png" alt="1566524319355"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566524383680.png" alt="1566524383680"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566524408719.png" alt="1566524408719"></p>
<p>子进程在做aof重写时，会通过管道从父进程读取增量数据，并缓存下来；在以rdb格式做全量持久时，也会从管道读取数据，同时不会造成管道阻塞，也就是aof文件前半段是rdb格式的全量数据，后半段是redis命令格式的增量数据。</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566524467090.png" alt="1566524467090"></p>
<p>redis实例重启时会使用bgsave持久化文件重新构建内容，再使用aof重放近期的操作指令，使用两者结合恢复重启之前的状态。</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566524719291.png" alt="1566524719291"></p>
<p>如果同时需要执行大量命令，就需要等待上一条命令应答完成，这中间会有大量来回交互的时间和IO磁盘操作，为了提升效率，使用Pipeline可允许客户端一次发送多条命令，而不需要上一条命令的结果，客户端首先将命令写入缓存中，再一次性发送给redis，这样pipeline可以将多次io往返是的时间缩减为一次。（注：这里的命令指无相关性的命令）</p>
<h3 id="Redis的同步机制"><a href="#Redis的同步机制" class="headerlink" title="Redis的同步机制"></a>Redis的同步机制</h3><p>主从同步原理</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566525604430.png" alt="1566525604430"></p>
<ul>
<li>一个M：写；</li>
<li>若干个S：读；定期的数据备份也是在其中选择一个实例完成。</li>
</ul>
<p>这里不需要M，S的实时一致性，而是保持一种弱一致性，即一段时间后的最终一致性</p>
<p>同步操作：主节点做一次BGSAVE，并同时将后续修改操作记录在内存的缓存中，待完成后将RDB文件全量同步到从节点，从节点接收后，就将RDB镜像加载到内存中，加载完成后，再通知主节点将期间的修改操作记录即增量操作同步到从节点进行重放，就完成了同步过程。</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566526103267.png" alt="1566526103267"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566526205097.png" alt="1566526205097"></p>
<p>Redis哨兵</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566526286410.png" alt="1566526286410"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566526378478.png" alt="1566526378478"></p>
<h3 id="Redis的集群管理"><a href="#Redis的集群管理" class="headerlink" title="Redis的集群管理"></a>Redis的集群管理</h3><p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566526471318.png" alt="1566526471318"></p>
<p>这样就实现了数据分片，通过数据分片，实现单节点服务器的压力。Redis集群才用无中心结构，每个节点保存数据和整个集群状态，每个节点都和其它节点连接，使用Gossip协议传播信息和发现新的节点。redis节点的目的是将不同的key分散放在不同的节点，通常是获取key的hash值，但是节点动态增减时会有问题。</p>
<p>Redis采用的是一致性哈希算法。使用哈希环，先在环上确定节点位置，存储数据时同样计算key哈希值在环上位置，顺时针寻找离key最近的节点存储数据。</p>
<blockquote>
<p>一致性哈希在节点个数过少时也有个数据倾斜的问题，解决方式是引入虚拟节点，一个节点计算多个哈希值放在环中。</p>
</blockquote>
<h2 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h2><p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566270540934.png" alt="1566270540934"></p>
<h3 id="平台无关性"><a href="#平台无关性" class="headerlink" title="平台无关性"></a>平台无关性</h3><p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566270931694.png" alt="1566270931694"></p>
<p>编译生成字节码，字节码保存在.class文件中，.class文件在各种JVM中运行。</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566270966871.png" alt="1566270966871"></p>
<p>为什么JVM不直接将源码解析成机器码去执行？</p>
<p>因为每次执行都需要各种检查（java语法句法的检查），都要重新编译一次，在程序整体的性能就很受影响。所以引入中间字节码。</p>
<h3 id="JVM如何加载-class文件"><a href="#JVM如何加载-class文件" class="headerlink" title="JVM如何加载.class文件"></a>JVM如何加载.class文件</h3><p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566530314661.png" alt="1566530314661"></p>
<p>Class.forName()函数返回与给定的字符串名称相关的类或者接口的class对象。（返回一个给定类或者接口的一个 Class 对象）</p>
<h3 id="反射"><a href="#反射" class="headerlink" title="反射"></a>反射</h3><p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566271359683.png" alt="1566271359683"></p>
<p>一句话：反射就是将Java中的各种成分映射成一个个对象（下面代码中的Class，Method），然后获取。</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566538204663.png" alt="1566538204663"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566271649284.png" alt="1566271649284"></p>
<ol>
<li>Clas.forName(类全路径)的方式获取类对象：rc</li>
<li>创建这个实例：r</li>
<li>获取throwHello这个方法getHello，使用Method这个对象，getDeclareMethod()能返回共有或者私有的方法，不能获取继承的方法</li>
<li>调用这个方法，invoke(对象实例，参数)</li>
<li>使用getMethod()可以调用公有方法，还能获取继承和接口实现的方法</li>
</ol>
<p><strong>Java类从编译到执行的过程</strong></p>
<p>由上面的反射发现：之所以能获取类的属性或者方法并对其调用，必须要获取class对象，要获取该类的class对象，必须要获取该类的字节码文件对象。</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566539503027.png" alt="1566539503027"></p>
<h3 id="ClassLoader"><a href="#ClassLoader" class="headerlink" title="ClassLoader"></a>ClassLoader</h3><p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566539550619.png" alt="1566539550619"></p>
<ul>
<li>抽象类</li>
<li>提供类加载方式的接口</li>
<li>loadClass()：通过给定一个类名去加载这个类，返回代表这类的class的实例，发现其中有很多Classloader类</li>
</ul>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566539925530.png" alt="1566539925530"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566539976907.png" alt="1566539976907"></p>
<p>AppClassLoader会去java.class.path路径中去找编译好的class文件：ReflectSample.calss、Robot.class，执行时就会加载这两个文件。</p>
<h3 id="类加载器的双亲委派机制"><a href="#类加载器的双亲委派机制" class="headerlink" title="类加载器的双亲委派机制"></a>类加载器的双亲委派机制</h3><p>不同的ClassLoader加载类的方式和路径各不相同，为了明确分工，加载类的时候，各类ClassLoader按照自己管理的区域各司其职，需要一个机制管理，这就是双亲委派机制。</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566540879924.png" alt="1566540879924"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566541051079.png" alt="1566541051079"></p>
<h3 id="类的加载方式"><a href="#类的加载方式" class="headerlink" title="类的加载方式"></a>类的加载方式</h3><p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566541089646.png" alt="1566541089646"></p>
<p>隐示加载方法不需要使用newInstance()方法获取实例，并且支持带参数的构造器（可以使用构造函数传入参数）生成对象实例</p>
<p>显示加载的方式获取类对象后，需要使用newInstance()方法获取对象实例，不支持传入参数，需要通过反射，调用构造器的newInstance()方法，才能使用参数？？？？？？</p>
<p>都能在运行时对任意一个类，知道该类的所有属性和方法，队友任意一个对象，能调用他的任意方法和属性。</p>
<p><strong>Java类的装载过程：</strong></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566541766165.png" alt="1566541766165"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566541877658.png" alt="1566541877658"></p>
<p>SpringIOC资源加载器在获取要读取的资源时，即读取spring Bean的配置文件时，如果是以classpath的方式加载，就需要使用classloader方式加载，这样做是和SpringIOC的延时加载有关，目的是为了加快初始化速度，不执行加载中链接、初始化步骤，加快加载速度，把这些工作留到实际使用时再去做。</p>
<h3 id="Java内存模型"><a href="#Java内存模型" class="headerlink" title="Java内存模型"></a>Java内存模型</h3><p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566542351974.png" alt="1566542351974"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566542443473.png" alt="1566542443473"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566542526507.png" alt="1566542526507"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566542550343.png" alt="1566542550343"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566542572034.png" alt="1566542572034"></p>
<h2 id="GC"><a href="#GC" class="headerlink" title="GC"></a>GC</h2><p>标准：没有被其他对象引用；</p>
<h3 id="判断函数"><a href="#判断函数" class="headerlink" title="判断函数"></a>判断函数</h3><p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566280952080.png" alt="1566280952080"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566280970515.png" alt="1566280970515"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566281027327.png" alt="1566281027327"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566281116146.png" alt="1566281116146"></p>
<h3 id="垃圾回收算法"><a href="#垃圾回收算法" class="headerlink" title="垃圾回收算法"></a>垃圾回收算法</h3><p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566281167400.png" alt="1566281167400"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566281260890.png" alt="1566281260890"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566281297740.png" alt="1566281297740"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566281358412.png" alt="1566281358412"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566281417461.png" alt="1566281417461"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566281459812.png" alt="1566281459812"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566281495964.png" alt="1566281495964"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566281533807.png" alt="1566281533807"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566281682294.png" alt="1566281682294"></p>
<p>新生代：</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566281754772.png" alt="1566281754772"></p>
<p>每次使用一块Eden和一块survivor，进行垃圾回收时，将这两个中存活的对象一次性复制到另一个survivor。复制一次，对象年龄加 1 ，当年龄达到15（默认的）岁时，就会进入老年代。</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566282162342.png" alt="1566282162342"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566282206402.png" alt="1566282206402"></p>
<p>老年代：</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566282262255.png" alt="1566282262255"></p>
<p>当发生老年代的GC时，通常也会伴随着年轻代的GC，对整个堆进行垃圾回收，Full GC。</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566282462012.png" alt="1566282462012"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566282604274.png" alt="1566282604274"></p>
<blockquote>
<p>调用了System.gc()只是告诉虚拟机要回收，但究竟什么时候回收由虚拟机说了算。</p>
</blockquote>
<p>永久代时jdk7及以下才有的，8使用元空间代替了，一个原因就是降低Full GC的频率，减小GC的负担。</p>
<p>GC发生时：</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566282779359.png" alt="1566282779359"></p>
<p>GC安全点，GC开始前，让程序“停在某个地方”</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566282872797.png" alt="1566282872797"></p>
<h3 id="垃圾收集器"><a href="#垃圾收集器" class="headerlink" title="垃圾收集器"></a>垃圾收集器</h3><p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566283101929.png" alt="1566283101929"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566283143252.png" alt="1566283143252"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566283216314.png" alt="1566283216314"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566283265976.png" alt="1566283265976"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566283314476.png" alt="1566283314476"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566283430988.png" alt="1566283430988"></p>
<p>CMS使GC线程和用户线程并发</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566283521787.png" alt="1566283521787"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566283567047.png" alt="1566283567047"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566284005512.png" alt="1566284005512"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566284156542.png" alt="1566284156542"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566284237462.png" alt="1566284237462"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566284288209.png" alt="1566284288209"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566284328030.png" alt="1566284328030"></p>
<h2 id="线程"><a href="#线程" class="headerlink" title="线程"></a>线程</h2><p>串行→批处理（程序）→进程→线程</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566346496101.png" alt="1566346496101"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566634603893.png" alt="1566634603893"></p>
<p>进程拥有一个完整的虚拟内存地址空间，当进程发生调度时，不同的进程拥有不同的虚拟地址空间，而同一进程内的不同线程共享同一地址空间。线程只有相关堆栈寄存器、程序计数器和线程控制表TCB组成，寄存器可用来存储局部标量，但不能存储其他线程的相关变量。</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566634628484.png" alt="1566634628484"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566346516168.png" alt="1566346516168"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566634813194.png" alt="1566634813194"></p>
<ul>
<li>每一个JVM实例唯一对应一个堆，每个线程有唯一私有的栈。</li>
<li>一个程序是一个可执行文件，一个进程是一个执行中程序的实例。</li>
</ul>
<h3 id="Java线程中start和run的区别？"><a href="#Java线程中start和run的区别？" class="headerlink" title="Java线程中start和run的区别？"></a>Java线程中start和run的区别？</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">attack</span><span class="params">()</span></span>&#123;</span><br><span class="line">    syso.(<span class="string">"current Thread is :"</span> + Thread.currentThread().getName());</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    Thread t = <span class="keyword">new</span> Thread()&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">            attack();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    syso.(<span class="string">"current main thread is :"</span> + Thread.currentThread().getName());</span><br><span class="line">    t.run();<span class="comment">//两个打印执行结果都是main线程</span></span><br><span class="line">    t.start();<span class="comment">//结果为：主线程main；和另一个线程Thread-0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>start</code>方法源码调用的是一个native的方法<code>start0</code>，<code>start0</code>方法调用的是JVM的<code>JVM_StarThread</code>方法。该层源码中的关键语句是：<code>native_thread = new JavaThread(&amp;thread_entry, sz)</code></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566739211692.png" alt="1566739211692"></p>
<p>即start方法会调用JVM_StartThread方法去创建已给新的线程，并通过Thread#run()方法去调用方法；</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566739228427.png" alt="1566739228427"></p>
<h3 id="Thread和Runnable"><a href="#Thread和Runnable" class="headerlink" title="Thread和Runnable"></a>Thread和Runnable</h3><p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566739241431.png" alt="1566739241431"></p>
<p>如何给run()方法传参</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566739254477.png" alt="1566739254477"></p>
<h3 id="如何实现处理线程的返回值"><a href="#如何实现处理线程的返回值" class="headerlink" title="如何实现处理线程的返回值"></a>如何实现处理线程的返回值</h3><p>主线程等待方法；</p>
<p>使用Thread类的join()方法阻塞当前线程以等待子线程处理；</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566739268790.png" alt="1566739268790"></p>
<p>通过Callable接口实现：通过Future Or 线程池获取</p>
<h3 id="线程的状态"><a href="#线程的状态" class="headerlink" title="线程的状态"></a>线程的状态</h3><p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566739287783.png" alt="1566739287783"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566739300563.png" alt="1566739300563"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566739313007.png" alt="1566739313007"></p>
<h3 id="Sleep和Wait方法"><a href="#Sleep和Wait方法" class="headerlink" title="Sleep和Wait方法"></a>Sleep和Wait方法</h3><p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566739324885.png" alt="1566739324885"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566739335235.png" alt="1566739335235"></p>
<blockquote>
<p>wait方法和notify方法，并<strong>不是Thread线程上的方法</strong>，它们是Object上的方法。</p>
<p>因为所有的Object都可以被用来作为同步对象，所以准确的讲，wait和notify是同步对象上的方法。</p>
<p>wait()的意思是： 让占用了这个同步对象的<strong>线程</strong>，临时释放当前的占用，并且等待。 所以调用wait是有前提条件的，一定是在synchronized块里，否则就会出错。</p>
<p>notify() 的意思是，通知<strong>一个</strong>等待在这个同步对象上的线程，<strong>你</strong>可以苏醒过来了，有机会重新占用当前对象了。</p>
<p>notifyAll() 的意思是，通知<strong>所有的</strong>等待在这个同步对象上的线程，<strong>你们</strong>可以苏醒过来了，有机会重新占用当前对象了。  </p>
</blockquote>
<p>锁池</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566739344235.png" alt="1566739344235"></p>
<p>等待池</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566739353388.png" alt="1566739353388"></p>
<h3 id="notify和notifyAll"><a href="#notify和notifyAll" class="headerlink" title="notify和notifyAll"></a>notify和notifyAll</h3><p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566739364448.png" alt="1566739364448"></p>
<h3 id="yield"><a href="#yield" class="headerlink" title="yield"></a>yield</h3><p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566739786416.png" alt="1566739786416"></p>
<p>当前线程A的暗示调度器让出CPU给线程B，但是调度器可以选择忽视或者执行。</p>
<h3 id="中断线程"><a href="#中断线程" class="headerlink" title="中断线程"></a>中断线程</h3><p>stop()方法，已抛弃，问题包括突然停止不好清理线程，会释放锁，造成数据不一致等。</p>
<p>当前方法：interrupt()方法，通知线程应该中断，</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566740196347.png" alt="1566740196347"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566740234431.png" alt="1566740234431"></p>
<p><a href="https://www.bilibili.com/video/av62633602?p=74" target="_blank" rel="noopener">详细解释</a></p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566740538242.png" alt="1566740538242"></p>
<h3 id="同步和互斥的区别："><a href="#同步和互斥的区别：" class="headerlink" title="同步和互斥的区别："></a>同步和互斥的区别：</h3><p>各个线程可以访问进程中的公共变量，资源，所以使用多线程的过程中需要注意的问题是如何防止两个或两个以上的线程同时访问同一个数据，以免破坏数据的完整性。数据之间的相互制约包括</p>
<p>1、间接制约关系，即两个线程需要访问同一资源，该资源在同一时刻只能被一个线程访问，这种关系称之为线程间对资源的互斥访问，某种意义上说互斥是一种制约关系更小的同步</p>
<p>所谓互斥，是指散布在不同进程之间的若干程序片断，当某个进程运行其中一个程序片段时，其它进程就不能运行它们之中的任一程序片段，只能等到该进程运行完这个程序片段后才可以运行。如果用对资源的访问来定义的话，互斥某一资源同时只允许一个访问者对其进行访问，具有唯一性和排它性。但互斥无法限制访问者对资源的访问顺序，即访问是无序的。</p>
<p>2、直接制约关系，即一个线程的处理结果，为另一个线程的输入，因此线程之间直接制约着，这种关系可以称之为同步关系</p>
<p>所谓同步，是指散步在不同进程之间的若干程序片断，它们的运行必须严格按照规定的某种先后次序来运行，这种先后次序依赖于要完成的特定的任务。如果用对资源的访问来定义的话，同步是指在互斥的基础上(大多数情况)，通过其它机制实现访问者对资源的有序访问。在大多数情况下，同步已经实现了互斥，特别是所有写入资源的情况必定是互斥的。少数情况是指可以允许多个访问者同时访问资源。</p>
<h3 id="进程间的通信方式："><a href="#进程间的通信方式：" class="headerlink" title="进程间的通信方式："></a>进程间的通信方式：</h3><p>1.管道(pipe)及有名管道(named pipe)：</p>
<blockquote>
<p>管道可用于具有亲缘关系的父子进程间的通信，有名管道除了具有管道所具有的功能外，它还允许无亲缘关系进程间的通信。</p>
</blockquote>
<p>2.信号(signal)：</p>
<blockquote>
<p>信号是在软件层次上对中断机制的一种模拟，它是比较复杂的通信方式，用于通知进程有某事件发生，一个进程收到一个信号与处理器收到一个中断请求效果上可以说是一致的。</p>
</blockquote>
<p>3.消息队列(message queue)：</p>
<blockquote>
<p>消息队列是消息的链接表，它克服了上两种通信方式中信号量有限的缺点，具有写权限得进程可以按照一定得规则向消息队列中添加新信息；对消息队列有读权限得进程则可以从消息队列中读取信息。</p>
</blockquote>
<p>4.共享内存(shared memory)：</p>
<blockquote>
<p>可以说这是最有用的进程间通信方式。它使得多个进程可以访问同一块内存空间，不同进程可以及时看到对方进程中对共享内存中数据得更新。这种方式需要依靠某种同步操作，如互斥锁和信号量等。</p>
</blockquote>
<p>5.信号量(semaphore)：</p>
<blockquote>
<p>主要作为进程之间及同一种进程的不同线程之间得同步和互斥手段。</p>
</blockquote>
<p>6.套接字(socket)；</p>
<blockquote>
<p>这是一种更为一般得进程间通信机制，它可用于网络中不同机器之间的进程间通信，应用非常广泛。</p>
</blockquote>
<h3 id="线程间通信"><a href="#线程间通信" class="headerlink" title="线程间通信"></a>线程间通信</h3><p>使用全局变量</p>
<blockquote>
<p>主要由于多个线程可能更改全局变量，因此全局变量最好声明为volatile（易变的）</p>
</blockquote>
<p>使用消息实现通信</p>
<blockquote>
<p>在Windows程序设计中，每一个线程都可以拥有自己的消息队列（UI线程默认自带消息队列和消息循环，工作线程需要手动实现消息循环），因此可以采用消息进行线程间通信sendMessage,postMessage。<br>1)定义消息#define WM_THREAD_SENDMSG=WM_USER+20;<br>2)添加消息函数声明afx_msg int OnTSendmsg();<br>3)添加消息映射ON_MESSAGE(WM_THREAD_SENDMSG,OnTSM)<br>4)添加OnTSM()的实现函数；<br>5)在线程函数中添加PostMessage消息Post函数</p>
</blockquote>
<p>使用事件CEvent类实现线程间通信</p>
<blockquote>
<p>Event对象有两种状态：有信号和无信号，线程可以监视处于有信号状态的事件，以便在适当的时候执行对事件的操作。<br>1)创建一个CEvent类的对象：CEvent threadStart;它默认处在未通信状态；<br>2)threadStart.SetEvent();使其处于通信状态；<br>3)调用WaitForSingleObject()来监视CEvent对象</p>
</blockquote>
<h3 id="线程间的同步方式有四种"><a href="#线程间的同步方式有四种" class="headerlink" title="线程间的同步方式有四种"></a>线程间的同步方式有四种</h3><p>临界区</p>
<blockquote>
<p>临界区对应着一个CcriticalSection对象，当线程需要访问保护数据时，调用EnterCriticalSection函数；当对保护数据的操作完成之后，调用LeaveCriticalSection函数释放对临界区对象的拥有权，以使另一个线程可以夺取临界区对象并访问受保护的数据。<br>PS:关键段对象会记录拥有该对象的线程句柄即其具有“线程所有权”概念，即进入代码段的线程在leave之前，可以重复进入关键代码区域。所以关键段可以用于线程间的互斥，但不可以用于同步（同步需要在一个线程进入，在另一个线程leave）</p>
</blockquote>
<p>互斥量</p>
<blockquote>
<p>互斥与临界区很相似，但是使用时相对复杂一些（互斥量为内核对象），不仅可以在同一应用程序的线程间实现同步，还可以在不同的进程间实现同步，从而实现资源的安全共享。<br>PS:1、互斥量由于也有线程所有权的概念，故也只能进行线程间的资源互斥访问，不能由于线程同步；<br>2、由于互斥量是内核对象，因此其可以进行进程间通信，同时还具有一个很好的特性，就是在进程间通信时完美的解决了”遗弃”问题</p>
</blockquote>
<p>信号量</p>
<blockquote>
<p>信号量的用法和互斥的用法很相似，不同的是它可以同一时刻允许多个线程访问同一个资源，PV操作<br>PS:事件可以完美解决线程间的同步问题，同时信号量也属于内核对象，可用于进程间的通信</p>
</blockquote>
<p>事件</p>
<blockquote>
<p>事件分为手动置位事件和自动置位事件。事件Event内部它包含一个使用计数（所有内核对象都有），一个布尔值表示是手动置位事件还是自动置位事件，另一个布尔值用来表示事件有无触发。由SetEvent()来触发，由ResetEvent()来设成未触发。<br>PS:事件是内核对象,可以解决线程间同步问题，因此也能解决互斥问题</p>
</blockquote>
<h3 id="synchronized"><a href="#synchronized" class="headerlink" title="synchronized"></a>synchronized</h3><p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566740782536.png" alt="1566740782536"></p>
<p>这时要引入互斥锁，目的是互斥访问，特性如下：</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566740966586.png" alt="1566740966586"></p>
<p>关键字synchronized可以满足上述特性。根据获取的锁的分类：获取对象锁和获取类锁！！！</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566741172390.png" alt="1566741172390"></p>
<p>2表示使用synchronized修饰的方法（method）<a href="https://www.bilibili.com/video/av62633602?p=77" target="_blank" rel="noopener">代码解释</a></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566741606620.png" alt="1566741606620"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566741663767.png" alt="1566741663767"></p>
<h3 id="synchronized的底层实现"><a href="#synchronized的底层实现" class="headerlink" title="synchronized的底层实现"></a>synchronized的底层实现</h3><p>两个要点：</p>
<ul>
<li>Java对象头</li>
<li>Monitor</li>
</ul>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566741979672.png" alt="1566741979672"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566742014520.png" alt="1566742014520"></p>
<blockquote>
<p>轻量级锁和偏向锁是1.6后对锁的优化。</p>
</blockquote>
<p>Monitor相当于Java对象天生自带的一把看不见的锁（或称监视器锁，一种同步机制或同步对象）</p>
<p>重量级锁指针指向的就是Monitor对象的起始地址（每个对象都有一个Monitor对象与之关联）；Monitor对象中的关键属性如下：</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566742496980.png" alt="1566742496980"></p>
<p>Monitor对象存在于每个Java对象的对象头中，</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566742578548.png" alt="1566742578548"></p>
<p>查看编译后的指令，monitorenter进入同步块，monitorexit表示退出，两者配对表示monitor锁。</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566742741353.png" alt="1566742741353"></p>
<p>锁的重入：</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566742914574.png" alt="1566742914574"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566743138977.png" alt="1566743138977"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566743185944.png" alt="1566743185944"></p>
<h3 id="自旋锁和自适应自旋锁"><a href="#自旋锁和自适应自旋锁" class="headerlink" title="自旋锁和自适应自旋锁"></a>自旋锁和自适应自旋锁</h3><ul>
<li>自旋锁</li>
<li>线程A想要获取线程B占有的资源，就让线程A执行时等一会但是不放弃CPU的时间</li>
</ul>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566743670713.png" alt="1566743670713"></p>
<ul>
<li>自适应自旋锁</li>
<li>应该是自旋等待时间的变化</li>
</ul>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566743820035.png" alt="1566743820035"></p>
<ul>
<li>锁消除</li>
<li>编译时对运行上下文进行扫描，去除不可能存在竞争的锁</li>
</ul>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566744166712.png" alt="1566744166712"></p>
<ul>
<li>锁粗化</li>
<li>通过扩大锁的范围，避免反复加锁和解锁</li>
</ul>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566744269477.png" alt="1566744269477"></p>
<p>synchronized锁的四种状态</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566744363854.png" alt="1566744363854"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566744495783.png" alt="1566744495783"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566744516440.png" alt="1566744516440"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566744545011.png" alt="1566744545011"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566744573288.png" alt="1566744573288"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566744597530.png" alt="1566744597530"></p>
<h3 id="锁的内存语义"><a href="#锁的内存语义" class="headerlink" title="锁的内存语义"></a>锁的内存语义</h3><p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566744650852.png" alt="1566744650852"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566744677379.png" alt="1566744677379"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566774525373.png" alt="1566774525373"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566774615642.png" alt="1566774615642"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566774835528.png" alt="1566774835528"></p>
<h3 id="JMM"><a href="#JMM" class="headerlink" title="JMM"></a>JMM</h3><p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566744755180.png" alt="1566744755180"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566744772543.png" alt="1566744772543"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566744787208.png" alt="1566744787208"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566744807706.png" alt="1566744807706"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566744833721.png" alt="1566744833721"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566744849777.png" alt="1566744849777"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566744873786.png" alt="1566744873786"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566744897082.png" alt="1566744897082"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566744927952.png" alt="1566744927952"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566744957721.png" alt="1566744957721"></p>
<h3 id="CAS"><a href="#CAS" class="headerlink" title="CAS"></a>CAS</h3><p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566745004318.png" alt="1566745004318"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566775040568.png" alt="1566775040568"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566775257695.png" alt="1566775257695"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566775322604.png" alt="1566775322604"></p>
<h3 id="Java线程池"><a href="#Java线程池" class="headerlink" title="Java线程池"></a>Java线程池</h3><p>在web开发中，服务器要接受并处理请求，所以会为一个请求分配一个线程来处理，如果并发的请求比较多，则耗费在线程创建和回收大量时间，使用线程池来重复利用线程</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566775915639.png" alt="1566775915639"></p>
<blockquote>
<p>3中会保证顺序执行各个任务，在任意给定线程不会有多个线程执行；8是Java8加入的</p>
</blockquote>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566776250404.png" alt="1566776250404"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566776478492.png" alt="1566776478492"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566776441213.png" alt="1566776441213"></p>
<blockquote>
<p>是一个根据一组执行策略调度，调用、执行和控制的异步任务的框架，目的是提供一种将任务提交和任务融合运行分离开的机制。</p>
</blockquote>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566776736541.png" alt="1566776736541"></p>
<p>线程池设计</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566776835646.png" alt="1566776835646"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566777028608.png" alt="1566777028608"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566777063200.png" alt="1566777063200"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566777089962.png" alt="1566777089962"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566777290218.png" alt="1566777290218"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566777307025.png" alt="1566777307025"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566777325088.png" alt="1566777325088"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566777405991.png" alt="1566777405991"></p>
<h2 id="Java异常"><a href="#Java异常" class="headerlink" title="Java异常"></a>Java异常</h2><p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566286012980.png" alt="1566286012980"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566286247944.png" alt="1566286247944"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566286283521.png" alt="1566286283521"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566286308847.png" alt="1566286308847"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566286637054.png" alt="1566286637054"></p>
<p>finally是先于return执行的。</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566287202869.png" alt="1566287202869"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566287412849.png" alt="1566287412849"></p>
<h2 id="Java集合框架"><a href="#Java集合框架" class="headerlink" title="Java集合框架"></a>Java集合框架</h2><p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566287490549.png" alt="1566287490549"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566287502906.png" alt="1566287502906"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566288132427.png" alt="1566288132427"></p>
<h3 id="集合总结"><a href="#集合总结" class="headerlink" title="集合总结"></a>集合总结</h3><p><img src="/2019/08/26/Sword-For-java/1568710462272.png" alt="1568710462272"></p>
<h3 id="Map家族"><a href="#Map家族" class="headerlink" title="Map家族"></a>Map家族</h3><p><img src="/2019/08/26/Sword-For-java/1568706469430.png" alt="1568706469430"></p>
<h3 id="选用"><a href="#选用" class="headerlink" title="选用"></a>选用</h3><p>主要根据集合的特点来选用，比如我们<strong>需要根据键值获取到元素值时</strong>就选用Map接口下的集合，需要排序时选择TreeMap,不需要排序时就选择HashMap,需要保证线程安全就选用ConcurrentHashMap。</p>
<p>当我们<strong>只需要存放元素值时</strong>，就选择实现Collection接口的集合，需要保证元素唯一时选择实现Set接口的集合比如TreeSet或HashSet，不需要就选择实现List接口的比如ArrayList或LinkedList，然后再根据实现这些接口的集合的特点来选用。</p>
<h3 id="HashSet"><a href="#HashSet" class="headerlink" title="HashSet"></a>HashSet</h3><p>的底层是HashMap实现的，是将元素以键的形式存入HashMap的Key中，而他的值Value是一个final类型的PRESENT对象</p>
<h3 id="TreeSet"><a href="#TreeSet" class="headerlink" title="TreeSet"></a>TreeSet</h3><p>实现了排序；底层也是HashMap实现</p>
<p>第一种是基于元素对象自身实现comparable接口的<strong>自然排序</strong></p>
<blockquote>
<p>即让一个元素对象A实现Comparable接口，就要重写<code>equals()；compareTo()自然排序；hashCode()；</code>三个方法，为了能够让对象A在加入TreeSet后能正确排序，其中equals和compareTo()的方法就要按相同的规则比较两个对象是否相等。一旦equals()方法重写，就要重写hashCode()，即在使用equals方法比较两个对象相同时，也要保证两个对象的hashCode值也相等。</p>
<p>其主要的方法就是compareTo()方法。</p>
</blockquote>
<p>另一种是基于不与单元元素绑定的Comparator接口的排序，即<strong>客户化排序</strong></p>
<blockquote>
<p>首先对象A还是实现Comparable接口，但不需要在A中改变compareTo()方法，只需要在外部类AComparator实现Comparator<A>，实现其中的compare()方法（该方法中设计一个比较方式即可）。此时A类即实现了Comparable接口，在外部又实现了Comparator，在存入Set集合中时，会优先以compare()方法中的比较规则为准。TreeSet集合中也是如此。</A></p>
</blockquote>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566288990431.png" alt="1566288990431"></p>
<h3 id="HashMap"><a href="#HashMap" class="headerlink" title="HashMap"></a>HashMap</h3><p>Key-Value的形式存储数据，其中的key是不可重复的，使用Set来保存的，有去重功能，value是通过Collection。</p>
<p><img src="/2019/08/26/Sword-For-java/1567167431023.png" alt="1567167431023"></p>
<p><img src="/2019/08/26/Sword-For-java/1567167408933.png" alt="1567167408933"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566289552062.png" alt="1566289552062"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566289709492.png" alt="1566289709492"></p>
<p>混合高低位计算hash值，使之分布散列均匀。用位与操作替代取模。</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566290019896.png" alt="1566290019896"></p>
<p><img src="/2019/08/26/Sword-For-java/1567171193672.png" alt="1567171193672"></p>
<p>1.8之前会发生扩容死锁问题；</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">transfer</span><span class="params">(Entry[] newTable, <span class="keyword">boolean</span> rehash)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> newCapacity = newTable.length;</span><br><span class="line">    <span class="keyword">for</span> (Entry&lt;K,V&gt; e : table) &#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">null</span> != e) &#123;</span><br><span class="line">            <span class="comment">// 这行也是重点</span></span><br><span class="line">            Entry&lt;K,V&gt; next = e.next;</span><br><span class="line">            <span class="keyword">if</span> (rehash) &#123;</span><br><span class="line">                e.hash = <span class="keyword">null</span> == e.key ? <span class="number">0</span> : hash(e.key);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">int</span> i = indexFor(e.hash, newCapacity);</span><br><span class="line">            <span class="comment">// 重点这三行</span></span><br><span class="line">            e.next = newTable[i];</span><br><span class="line">            newTable[i] = e;</span><br><span class="line">            e = next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/2019/08/26/Sword-For-java/1567176014673.png" alt="1567176014673"></p>
<blockquote>
<p>此时有两个线程T1、T2同时插入a4，则T1、T2同时进行扩容操作，它们各自新建了一个Entry数组newTable。</p>
</blockquote>
<p><img src="/2019/08/26/Sword-For-java/1567175751529.png" alt="1567175751529"></p>
<blockquote>
<p>T2线程执行到transfer方法的Entry&lt;K,V&gt; next = e.next;时被挂起，T1线程执行transfer方法后Entry数组如下图：</p>
</blockquote>
<p><img src="/2019/08/26/Sword-For-java/1567175785376.png" alt="1567175785376"></p>
<blockquote>
<p>在T1线程没返回新建Entry数组之前，T2线程恢复，因为在T2挂起时，变量e指向的是a1，变量next指向的是a2，所以在T2恢复执行完transfer之后，Entry数组如下图：</p>
</blockquote>
<p><img src="/2019/08/26/Sword-For-java/1567175825876.png" alt="1567175825876"></p>
<blockquote>
<p>可以看到在T2执行完transfer方法后，a1元素和a2元素形成了循环引用，此时无论将T1的Entry数组还是T2的Entry数组返回作为扩容后的新数组，都会存在这个环形链表，当调用get方法获取该位置的元素时就会发生死循环</p>
</blockquote>
<p>1.8之后就解决了这个问题，因为没有再使用指针引用的方式去传值，而是重新计算在新数组上的hash序列号，移动值到新HashMap上。</p>
<p>没解决的问题就是<strong>多线程安全问题</strong>：</p>
<p>如果有两个线程A和B，都进行插入数据，刚好这两条不同的数据经过哈希计算后得到的哈希码是一样的，且该位置还没有其他的数据。所以这两个线程都会进入插值处的代码中。假设一种情况：</p>
<ul>
<li>线程A通过if判断，该位置没有哈希冲突，进入了if语句，还没有进行数据插入，这时候 CPU 就把资源让给了线程B，线程A停在了if语句里面，</li>
<li>线程B判断该位置没有哈希冲突（线程A的数据还没插入），也进入了if语句，线程B执行完后，轮到线程A执 行，现在线程A直接在该位置插入而不用再判断。</li>
<li>这时候，你会发现线程A把线程B插入的数据给覆盖了，发生了线程不安全情况。</li>
</ul>
<h3 id="HashTable"><a href="#HashTable" class="headerlink" title="HashTable"></a>HashTable</h3><p>哈希表（HashTable）又叫做散列表，是根据关键码值（即键值对）而直接访问的数据结构。也就是说，它通过把关键码映射到表中一个位置来访问记录，以加快查找速度。</p>
<ul>
<li>特点一：线程安全；</li>
<li>特点二：K/V都不允许为null；</li>
</ul>
<blockquote>
<p>使用<strong>哈希函数</strong>将被查找的键转化为数组的索引。</p>
</blockquote>
<p>处理冲突的方法很多，有<strong>拉链法</strong>和<strong>线性探索法</strong>。</p>
<p><img src="/2019/08/26/Sword-For-java/1567177495680.png" alt="1567177495680"></p>
<p><img src="/2019/08/26/Sword-For-java/1567177516502.png" alt="1567177516502"></p>
<blockquote>
<p>注：线程安全，使用synchronized关键字修饰关键方法</p>
</blockquote>
<h3 id="ConcurrentHashMap"><a href="#ConcurrentHashMap" class="headerlink" title="ConcurrentHashMap"></a>ConcurrentHashMap</h3><p>锁细粒度化：将数组拆分成子数组，16位为一段，加上一把锁。</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566290353254.png" alt="1566290353254"></p>
<ol>
<li>该类包含两个静态内部类 HashEntry 和 Segment ；前者用来封装映射表的键值对，后者用来充当锁的角色；</li>
<li>Segment 是一种可重入的锁 ReentrantLock，每个 Segment 守护一个HashEntry 数组里得元素，当对 HashEntry 数组的数据进行修改时，必须首先获得对应的 Segment 锁。</li>
</ol>
<p>更细化：<strong>Node + CAS + Synchronized</strong></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566290416620.png" alt="1566290416620"></p>
<p>sync只锁定当前链表或者红黑树的首结点，将锁细粒化到表中每个元素，只要hash不冲突就不会发生并发。不允许插入null键，对数组元素的更新是使用CAS，需要不断地的失败重试。</p>
<p>容量控制参数：</p>
<p><img src="/2019/08/26/Sword-For-java/1567214818968.png" alt="1567214818968"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566290826092.png" alt="1566290826092"></p>
<p>（2）图示：</p>
<p><img src="/2019/08/26/Sword-For-java/1568773675821.png" alt="1568773675821"></p>
<p>（4）表示发生哈希碰撞，则会锁住链表或二叉树头节点即数组元素；</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566290892669.png" alt="1566290892669"></p>
<blockquote>
<p>只要哈希不冲突就不会出现并发获得锁的情况！</p>
<ol>
<li>首先用CAS无锁操作插入头节点，如果插入失败，则表示有别的线程已经插入头节点了，需要循环重试；</li>
<li>如果头节点已经存在，就尝试获取头节点的synchronized锁，再进行操作</li>
</ol>
</blockquote>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566291042885.png" alt="1566291042885"></p>
<h3 id="JUC"><a href="#JUC" class="headerlink" title="JUC"></a>JUC</h3><p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566777522291.png" alt="1566777522291"></p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566291118596.png" alt="1566291118596"></p>
<blockquote>
<p>P91集20秒处</p>
</blockquote>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566291155664.png" alt="1566291155664"></p>
<blockquote>
<p>executor：线程执行器，一个任务执行和调度的框架；tools下还有和executor相关的executors类，用来创建executorServices等对象；</p>
<p>locks：Java5后增加协调共享对象的访问方法，显示锁，方便对线程之间的共享资源做更细粒度的锁控制，一个lock可以创建多个Condition，用于将线程的等待和唤醒对象化，基于AQS实现，底层是调用Locksupport.unpark/park()实现线程的阻塞和唤醒。另一个是可重入读写锁，读读可共存，读写不可同时；</p>
<p>atomic：原子操作类，一个操作是不可中断的（即使是多线程环境中）。4中原子更新方式：原子更新基本类型、原子更新数组、原子更新引用、原子更新字段。atomic使用的是CAS的更新方式，当某个线程在执行atomic方法时，不会被其他线程打断，别的线程就会像自旋锁一样一直等到该方法执行完成，才由JVM从等待队列中选择一个线程来执行，是非阻塞的。在多线程中的累加操作时可以使用atomic变量来实现；</p>
</blockquote>
<p>tools下的并发工具类：主要用于线程的同步</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566291262574.png" alt="1566291262574"></p>
<p>闭锁：</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566291338890.png" alt="1566291338890"></p>
<p>TA主线程，事件T123，引入CountDownLatch后，主线程就陷入等待，并有一个计数器cnt（事件的个数），每一个事件执行countDown()方法后就减一，直到所有子线程（事件）执行完毕，cnt为0时，主线程重新进入执行状态。</p>
<blockquote>
<p>注：这里的子线程在执行完countDown()方法会可以继续执行</p>
</blockquote>
<p><img src="/2019/08/26/Sword-For-java/1567217338361.png" alt="1567217338361"></p>
<p>栅栏：</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566291397783.png" alt="1566291397783"></p>
<p>线程T123每调用一次await()方法时，其中的计数器都会减一，只要计数器不为0，该线程都会阻塞，其中TA线程（当前线程）会和T123一起，在计数器为0时同时执行。</p>
<blockquote>
<p>这里的子线程到达栅栏处便会等待，不可继续执行。</p>
</blockquote>
<p><img src="/2019/08/26/Sword-For-java/1567217754584.png" alt="1567217754584"></p>
<p>信号量：</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566291447240.png" alt="1566291447240"></p>
<blockquote>
<p>通过acquire去获取一个许可，没有就等待；拥有资源的线程执行完后会release释放资源</p>
</blockquote>
<p><img src="/2019/08/26/Sword-For-java/1567217900626.png" alt="1567217900626"></p>
<p>交换器：</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566291480921.png" alt="1566291480921"></p>
<blockquote>
<p>提供一个同步点，在这个同步点，两个线程会彼此交换数据。一个线程先到同步点会被阻塞，直到李刚一个线程也到该同步点。只能用于两个线程。</p>
</blockquote>
<p><img src="/2019/08/26/Sword-For-java/1567218127016.png" alt="1567218127016"></p>
<p>会发现男孩女孩说的话被交换了：</p>
<p><img src="/2019/08/26/Sword-For-java/1567218139507.png" alt="1567218139507"></p>
<h3 id="JUC：BlockingQueue阻塞队列"><a href="#JUC：BlockingQueue阻塞队列" class="headerlink" title="JUC：BlockingQueue阻塞队列"></a>JUC：BlockingQueue阻塞队列</h3><p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566291534420.png" alt="1566291534420"></p>
<blockquote>
<p>如果队列满了，入队操作将阻塞，如果队列空了，出队操作将阻塞</p>
<p>方法：boolean add()：队尾添加元素方法，满了报异常；offer()队尾添加怨怒，满了返回false，或者添加等待时间；put()队尾添加元素，满了就阻塞一直等待到可添加；</p>
<p>E take()：头部取出元素，为空就一直等待队列中有元素；poll()头部取元素，为空可设置等待时间，或返回false；</p>
</blockquote>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566291576395.png" alt="1566291576395"></p>
<p>以下七个实现，均线程安全：</p>
<p><img src="/2019/08/26/Sword-For-java/Sword-For-java%5C1566291602923.png" alt="1566291602923"></p>
<blockquote>
<p>有边界是指容量有限，初始化时要指定大小；1，2先进先出；3按照优先级（元素具备可比性）</p>
</blockquote>
<h3 id="IO"><a href="#IO" class="headerlink" title="IO"></a>IO</h3><h4 id="BIO"><a href="#BIO" class="headerlink" title="BIO"></a>BIO</h4><p><img src="/2019/08/26/Sword-For-java/1567219162671.png" alt="1567219162671"></p>
<p>基于流模型实现的，标志着其交互方式是基于同步阻塞方式，在读取输入流或写入输出流时，在读写操作完成前，线程会一直阻塞住，这之间的调用是可靠的线性操作；程序发送请求到内核，由内核进行通信，在内核准备好之前，该程序是被挂起的，所以在两个阶段程序都是挂起状态；</p>
<p>类比于C/S模式：一个连接一个线程；即客户端有连接请求时，服务端就要启动一个线程来处理，待操作系统返回结果，如果这个连接不做任何事，则会造成不必要的线程开销，可以通过线程池机制来改善。BIO的特点就是在IO执行的两个阶段都被阻塞住。</p>
<h4 id="NIO-Java4引入"><a href="#NIO-Java4引入" class="headerlink" title="NIO-Java4引入"></a>NIO-Java4引入</h4><p>构建多路复用、同步非阻塞的IO操作；提供了channel、select、buffer等新的抽象可以构建多路复用、同步非阻塞的IO操作，提供更接近操作系统底层的数据操作方式。</p>
<p><img src="/2019/08/26/Sword-For-java/1567219610645.png" alt="1567219610645"></p>
<p>特点是：在程序发起第一次请求时，线程并没有被阻塞，会反复检查数据有没有准备好，将原来大块阻塞不能用的时间分为小块的阻塞时间，有点类似于轮询，会有机会去执行。</p>
<p>类比C/S模式为：一个请求一个线程，客户端发送的请求会被注册到多路复用器上，多路复用器轮询到连接有IO请求时，才会启动一个线程处理；特点就是程序会询问内核数据有没有准备好，该阶段是非阻塞的，在后一阶段是阻塞的（数据拷贝）</p>
<p><img src="/2019/08/26/Sword-For-java/1567219995578.png" alt="1567219995578"></p>
<p>基本所有的IO在NIO中都从Channel开始，有点像流，数据可以从Channel读到Buffer中（反过来亦可）；</p>
<p>Channel有如下：</p>
<p><img src="/2019/08/26/Sword-For-java/1567223433011.png" alt="1567223433011"></p>
<p>FileChannel的两个方法：</p>
<p><img src="/2019/08/26/Sword-For-java/1567223087988.png" alt="1567223087988"></p>
<p>常用于：高效的网络文件的数据传输，和大文件拷贝，避免了将文件从内核态拷贝到用户态，再从用户态拷贝到目标通道的内核态，避免了两次用户态和内核态的切换。</p>
<p>Buffers有如下：</p>
<p><img src="/2019/08/26/Sword-For-java/1567223415859.png" alt="1567223415859"></p>
<p>Selector：</p>
<p><img src="/2019/08/26/Sword-For-java/1567223507533.png" alt="1567223507533"></p>
<p>Selector允许单线程处理多个Channel，如果你的应用打开了多个连接（通道），每个连接的流量都很低，就可以使用selector。图示为一个单线程使用一个selector来处理3个channel的情形；使用selector得向selector注册channel，然后调用它的selector方法，这方法会一直阻塞直到某个注册的channel有事件就绪，一旦这个方法返回，线程就可以返回处理这些事件了，事件可以是有新的连接进来或者buffer里有数据可以读取等等。</p>
<p>selector源码：</p>
<p><img src="/2019/08/26/Sword-For-java/1567224057240.png" alt="1567224057240"></p>
<p>Selector组件是由SelectorProvider创建的，底层根据不同操作系统的IO多路复用来实现，会返回PollSelectorProvider（others）、EPollSelectorProvider（Linux）等</p>
<p><img src="/2019/08/26/Sword-For-java/1567224328096.png" alt="1567224328096"></p>
<p>单线程可以处理多个网络IO，IO多路复用调用系统级别的select/poll/epoll模型，由系统监控IO状态，select轮询可以监控多个IO请求，当有一个准备好时，就可以返回。</p>
<p><img src="/2019/08/26/Sword-For-java/1567224757594.png" alt="1567224757594"></p>
<blockquote>
<p>select连接是有限的，因为是基于数组的</p>
</blockquote>
<p><img src="/2019/08/26/Sword-For-java/1567224860983.png" alt="1567224860983"></p>
<blockquote>
<p>FD：文件唯一标识符</p>
</blockquote>
<p><img src="/2019/08/26/Sword-For-java/1567224929810.png" alt="1567224929810"></p>
<h4 id="AIO：异步非阻塞IO"><a href="#AIO：异步非阻塞IO" class="headerlink" title="AIO：异步非阻塞IO"></a>AIO：异步非阻塞IO</h4><p><img src="/2019/08/26/Sword-For-java/1567224985271.png" alt="1567224985271"></p>
<p>应用操作直接返回，而不会阻塞在那里，当后台完成，操作系统就会通知响应线程进行后续操作。AIO属于异步模型，用户线程可以同时处理别的事务。</p>
<p><img src="/2019/08/26/Sword-For-java/1567225187685.png" alt="1567225187685"></p>
<blockquote>
<p>基于回调：实现接口，调用时把回调函数传给对应的API即可</p>
<p>返回Future：处理完一个事，通过isDone()方法查看是否已经准备好数据</p>
</blockquote>
<h4 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h4><p><img src="/2019/08/26/Sword-For-java/1567226204994.png" alt="1567226204994"></p>
<h2 id="Spring"><a href="#Spring" class="headerlink" title="Spring"></a>Spring</h2><p>家族图谱</p>
<p>第一阶段Spring Core、Spring Security、Spring Data，实现将单体应用开发服务好。不仅仅提供的便捷的数据库访问，web 中SpringMVC等必要功能。使用IOC、AOP实现应用低耦合、可扩展。</p>
<p><img src="/2019/08/26/Sword-For-java/1567131737917.png" alt="1567131737917"></p>
<blockquote>
<p>利用工厂模式（DI）和代理模式（AOP）来解耦应用组件，然后实现了web应用的框架（SpringMVC）;</p>
</blockquote>
<p>第二阶段推出的SpringBoot不仅仅提高了开发效率，而且将程序由可用变为好用。</p>
<p><img src="/2019/08/26/Sword-For-java/1567132198944.png" alt="1567132198944"></p>
<p>第三阶段的Spring Cloud，推动了微服务架构的落地</p>
<p><img src="/2019/08/26/Sword-For-java/1567132290549.png" alt="1567132290549"></p>
<p>第四阶段：Spring Cloud DataFlow</p>
<p>DataFlow将实时消息的处理任务和临时运行的任务都作为组件处理，定义这样组件的交互。</p>
<p><img src="/2019/08/26/Sword-For-java/1567132348627.png" alt="1567132348627"></p>
<h3 id="SpringIOC"><a href="#SpringIOC" class="headerlink" title="SpringIOC"></a>SpringIOC</h3><p><img src="/2019/08/26/Sword-For-java/1567132527700.png" alt="1567132527700"></p>
<p>IOC是一种思想，使我们从繁琐的对象交互中解脱出来，进而专注于对象本身，更进一步了解面向对对象。</p>
<p>一般的设计思路：</p>
<p><img src="/2019/08/26/Sword-For-java/1567132665135.png" alt="1567132665135"></p>
<blockquote>
<p>先设计轮子，根据轮子设计底盘，根据底盘设计箱体…</p>
</blockquote>
<p><img src="/2019/08/26/Sword-For-java/1567132802864.png" alt="1567132802864"></p>
<blockquote>
<p>这里每个类的构造函数都直接调用了底层代码的构造函数，这样底层需求变动时会影响整个上层的代码，是不可取的。</p>
</blockquote>
<p>依赖注入的是思路</p>
<p><img src="/2019/08/26/Sword-For-java/1567133056969.png" alt="1567133056969"></p>
<p><img src="/2019/08/26/Sword-For-java/1567133089064.png" alt="1567133089064"></p>
<p><img src="/2019/08/26/Sword-For-java/1567133141092.png" alt="1567133141092"></p>
<ul>
<li>set：实现特定属性的public set()方法，让IOC容器注入所依赖类型的对象</li>
<li>接口：实现特定接口，让IOC容器注入所依赖类型的对象</li>
<li>构造函数：实现特定参数的构造函数，实现在创建对象时让IOC容器注入所依赖类型的对象</li>
<li>注解：通过Java的注解机制，让IOC容器注入所依赖类型的对象</li>
</ul>
<h4 id="依赖倒置原则、IOC、DI、IOC容器的关系"><a href="#依赖倒置原则、IOC、DI、IOC容器的关系" class="headerlink" title="依赖倒置原则、IOC、DI、IOC容器的关系"></a>依赖倒置原则、IOC、DI、IOC容器的关系</h4><p><strong>什么是依赖倒置原则？</strong>假设我们设计行李箱：先设计轮子，然后根据轮子大小设计底盘，接着根据底盘设计箱体，最后根据箱体设计好整个箱子。这里就出现了一个“依赖”关系：箱子依赖箱体，箱体依赖底盘，底盘依赖轮子。</p>
<p><img src="/2019/08/26/Sword-For-java/1567133889794.png" alt="1567133889794"></p>
<p>上面的依赖关系是该原则所反对的，该原则的思想为高层模块不应该依赖与底层模块，两者都应该依赖于其抽象。</p>
<blockquote>
<p>依赖倒置原则思想的指导才有了IOC的思路，有了IOC的思路则需要DI方法的支撑。Spring框架基于IOC才提出了容器的概念，容器管理着Bean的生命周期，控制着Bean的依赖注入。</p>
</blockquote>
<p><strong>控制反转（Inversion of Control）</strong> 就是依赖倒置原则的一种代码设计的思路。具体采用的方法就是所谓的<strong>依赖注入（Dependency Injection）</strong>。这几种概念的关系大概如下：</p>
<p><img src="https://pic1.zhimg.com/80/v2-ee924f8693cff51785ad6637ac5b21c1_hd.jpg" alt="img"></p>
<p>那什么是<strong>控制反转容器(IoC Container)</strong>呢？对行李箱类进行初始化的那段代码发生的地方，就是控制反转容器。</p>
<p><img src="/2019/08/26/Sword-For-java/1567134047279.png" alt="1567134047279"></p>
<p>显然你也应该观察到了，因为采用了依赖注入，在初始化的过程中就不可避免的会写大量的new。这里IoC容器就解决了这个问题。<strong>这个容器可以自动对你的代码进行初始化，你只需要维护一个Configuration（可以是xml可以是一段代码），而不用每次初始化行李箱都要亲手去写那一大段初始化的代码</strong>。这是引入IoC Container的第一个好处。</p>
<p><strong>IOC的优势：</strong></p>
<p><img src="/2019/08/26/Sword-For-java/1567134582679.png" alt="1567134582679"></p>
<p>而IoC Container在进行这个工作的时候是反过来的，它先从最上层开始往下找依赖关系，到达最底层之后再往上一步一步new（有点像深度优先遍历）：</p>
<p><img src="/2019/08/26/Sword-For-java/1567134623398.png" alt="1567134623398"></p>
<p>我们就像是工厂的客户。我们只需要向工厂请求一个Luggage实例，然后它就给我们按照Config创建了一个Luggage实例。我们完全不用管这个Luggage实例是怎么一步一步被创建出来。</p>
<h4 id="IOC容器"><a href="#IOC容器" class="headerlink" title="IOC容器"></a>IOC容器</h4><p>实际Spring IOC容器是怎么实现对象的创建和依赖的：</p>
<p><img src="/2019/08/26/Sword-For-java/1567135465808.png" alt="1567135465808"></p>
<p>1、Spring启动时读取应用程序提供的Bean配置信息，并在容器生成一份相应的Bean配置注册表</p>
<p>2、根据注册表加载、实例化bean、建立Bean与Bean之间的依赖关系</p>
<blockquote>
<p>这里利用的是Java语言的反射功能实例化bean、并建立Bean之间的依赖关系</p>
</blockquote>
<p>3、将这些准备就绪的Bean放到Map缓存池中，为上层提供就绪的运行环境，等待应用程序执行调用</p>
<p><img src="/2019/08/26/Sword-For-java/1567135556369.png" alt="1567135556369"></p>
<p><img src="/2019/08/26/Sword-For-java/1567135577177.png" alt="1567135577177"></p>
<blockquote>
<p>Spring 作者设计这两个核心接口用以表示容器</p>
</blockquote>
<p>相关接口：</p>
<p><img src="/2019/08/26/Sword-For-java/1567134859951.png" alt="1567134859951"></p>
<blockquote>
<p>Spring容器在启动时会将xml或者注解里的Bean的定义解析为Spring内部的BeanDefinition</p>
</blockquote>
<p><img src="/2019/08/26/Sword-For-java/1567134968136.png" alt="1567134968136"></p>
<blockquote>
<p>Spring 将Bean的定义解析为BeanDefinition后会通过BeanDefinitionRegistry 以BeanName为key，BeanDefinition为value存储到BeanDefinitionMap （这是个ConcurrentHashMap类型的map结构）中。</p>
</blockquote>
<h4 id="核心接口"><a href="#核心接口" class="headerlink" title="核心接口"></a>核心接口</h4><h5 id="BeanFactory接口"><a href="#BeanFactory接口" class="headerlink" title="BeanFactory接口"></a>BeanFactory接口</h5><p><img src="/2019/08/26/Sword-For-java/1567135018588.png" alt="1567135018588"></p>
<blockquote>
<p>包含Bean的各种定义，以便在接收客户端请求时可以实例化Bean，并在实例化对象时建立Bean 之间的依赖关系，这将使Bean从Bean客户端中解放出来。</p>
</blockquote>
<p>BeanFactory源码：</p>
<p><img src="/2019/08/26/Sword-For-java/1567137963853.png" alt="1567137963853"></p>
<blockquote>
<p>各种getBean()方法，可以看到可以从Spring中按类型 / 按名称获取Bean</p>
</blockquote>
<p><img src="/2019/08/26/Sword-For-java/1567138042701.png" alt="1567138042701"></p>
<blockquote>
<p>判断是否为单例方法，SpringIOC中，默认Bean都是以单例存在的</p>
</blockquote>
<p><img src="/2019/08/26/Sword-For-java/1567138130281.png" alt="1567138130281"></p>
<blockquote>
<p>与上面相反，判断为多例的</p>
</blockquote>
<h5 id="ApplicationContext接口"><a href="#ApplicationContext接口" class="headerlink" title="ApplicationContext接口"></a>ApplicationContext接口</h5><p><img src="/2019/08/26/Sword-For-java/1567138269117.png" alt="1567138269117"></p>
<p><img src="/2019/08/26/Sword-For-java/1567138332244.png" alt="1567138332244"></p>
<blockquote>
<p>3表示可以管理message，4表示可以发布实事件给监听器，实现监听</p>
<p>可以看出这不单单是个工厂，是整个应用上下文，代表整个大容器的所有功能</p>
</blockquote>
<p><img src="/2019/08/26/Sword-For-java/1567138744314.png" alt="1567138744314"></p>
<blockquote>
<p>SpringBoot的自带启动类的run()方法，深入进去其最终会执行createApplicationContext()方法，会发现其会用Class.forName加载AnnotationConfigServleWebServerApplicationContext类。</p>
</blockquote>
<h4 id="案例分析"><a href="#案例分析" class="headerlink" title="案例分析"></a>案例分析</h4><h5 id="Bean装载案例："><a href="#Bean装载案例：" class="headerlink" title="Bean装载案例："></a>Bean装载案例：</h5><p>Person Bean：</p>
<p><img src="/2019/08/26/Sword-For-java/1567139561022.png" alt="1567139561022"></p>
<blockquote>
<p>扫描装配Bean，使用注解@Component（指定要扫描的类进入IOC容器中）@Value()是赋值</p>
</blockquote>
<p>启动类：</p>
<p><img src="/2019/08/26/Sword-For-java/1567139336948.png" alt="1567139336948"></p>
<blockquote>
<p>@SpringBootApplication注解包含了启动扫描的功能。</p>
</blockquote>
<h5 id="Bean依赖注入案例："><a href="#Bean依赖注入案例：" class="headerlink" title="Bean依赖注入案例："></a>Bean依赖注入案例：</h5><p><img src="/2019/08/26/Sword-For-java/1567139966763.png" alt="1567139966763"></p>
<blockquote>
<p>装载Dog 类进入IOC容器</p>
</blockquote>
<p><img src="/2019/08/26/Sword-For-java/1567139981229.png" alt="1567139981229"></p>
<blockquote>
<p>注入Pet（Pet是个接口），@Autowired会根据属性类型找到对应的Bean进行注入（最基本是用getBean()方法根据类型注入），这里的Dog类是Pet的一种实现，所以会根据类型查找到Dog，由SpringIOC容器将Dog的实例注入Person中。</p>
<p>当有多个Pet的实现时（例如还有Cat、Bird类），需要在要注入的类上加上@Primary注解。</p>
</blockquote>
<h4 id="getBean-解析"><a href="#getBean-解析" class="headerlink" title="getBean()解析"></a>getBean()解析</h4><p>会调用doGetBean()放法；</p>
<p><img src="/2019/08/26/Sword-For-java/1567141357464.png" alt="1567141357464"></p>
<p><img src="/2019/08/26/Sword-For-java/1567141421420.png" alt="1567141421420"></p>
<blockquote>
<p>1、先获取Bean名称beanName；2、获取一个（共享的）实例；3、试着从缓存或者实例工厂中获取实例；</p>
</blockquote>
<p><img src="/2019/08/26/Sword-For-java/1567141491889.png" alt="1567141491889"></p>
<h4 id="Bean-的作用域"><a href="#Bean-的作用域" class="headerlink" title="Bean 的作用域"></a>Bean 的作用域</h4><p><img src="/2019/08/26/Sword-For-java/1567141574312.png" alt="1567141574312"></p>
<h4 id="Bean-的生命周期"><a href="#Bean-的生命周期" class="headerlink" title="Bean 的生命周期"></a>Bean 的生命周期</h4><p><img src="/2019/08/26/Sword-For-java/1567141612844.png" alt="1567141612844"></p>
<blockquote>
<p>1、实例化Bean对象以及设置属性</p>
<p>2、 对 Aware 接口的实现，目的是在Bean中设置对IOC容器的感知</p>
<p>3、Bean的前置初始化方法，对Spring容器完成实例化的Bean添加自定义的处理逻辑</p>
<p>4、…   5、…</p>
<p>6、Bena的后置初始化方法，Bean实例初始化后的自定义工作，3、6和AOP相关</p>
</blockquote>
<p><img src="/2019/08/26/Sword-For-java/1567141729918.png" alt="1567141729918"></p>
<h3 id="SpringAOP"><a href="#SpringAOP" class="headerlink" title="SpringAOP"></a>SpringAOP</h3><p><img src="/2019/08/26/Sword-For-java/1567142579843.png" alt="1567142579843"></p>
<p>分类与合并（织入）</p>
<p><img src="/2019/08/26/Sword-For-java/1567142610000.png" alt="1567142610000"></p>
<blockquote>
<p>Spring 采用的方式不需要特殊的Java编译器，但性能开销多一些</p>
</blockquote>
<p><img src="/2019/08/26/Sword-For-java/1567143238161.png" alt="1567143238161"></p>
<p><img src="/2019/08/26/Sword-For-java/1567143257267.png" alt="1567143257267"></p>
<p><img src="/2019/08/26/Sword-For-java/1567143313889.png" alt="1567143313889"></p>
<p><img src="/2019/08/26/Sword-For-java/1567143353134.png" alt="1567143353134"></p>
<p><img src="/2019/08/26/Sword-For-java/1567144837023.png" alt="1567144837023"></p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/java%E9%9D%A2%E8%AF%95/" rel="tag"># java面试</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/11/22/Computer-Networks-Notes/" rel="prev" title="Computer Networks Notes">
                Computer Networks Notes <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/head.jpg"
                alt="Mr.Zhang" />
            
              <p class="site-author-name" itemprop="name">Mr.Zhang</p>
              <p class="site-description motion-element" itemprop="description">爱学习的小学生</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">26</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">9</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">25</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/zhangwell" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i></a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:zhangwell0323@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i></a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://google.com" target="_blank" title="Google">
                      
                        <i class="fa fa-fw fa-google"></i></a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#网络基础"><span class="nav-number">1.</span> <span class="nav-text">网络基础</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#为什么有了MAC层还要走IP层"><span class="nav-number">1.1.</span> <span class="nav-text">为什么有了MAC层还要走IP层</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP的三次握手"><span class="nav-number">1.2.</span> <span class="nav-text">TCP的三次握手</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#UDP报文"><span class="nav-number">1.3.</span> <span class="nav-text">UDP报文</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#滑动窗口"><span class="nav-number">1.4.</span> <span class="nav-text">滑动窗口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP"><span class="nav-number">1.5.</span> <span class="nav-text">HTTP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Socket"><span class="nav-number">1.6.</span> <span class="nav-text">Socket</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数据库"><span class="nav-number">2.</span> <span class="nav-text">数据库</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#题：如何设计一个数据库"><span class="nav-number">2.1.</span> <span class="nav-text">题：如何设计一个数据库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#索引模块"><span class="nav-number">2.2.</span> <span class="nav-text">索引模块</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#锁"><span class="nav-number">2.3.</span> <span class="nav-text">锁</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Linux"><span class="nav-number">3.</span> <span class="nav-text">Linux</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#linux体系结构"><span class="nav-number">3.1.</span> <span class="nav-text">linux体系结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#指令"><span class="nav-number">3.2.</span> <span class="nav-text">指令</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Redis"><span class="nav-number">4.</span> <span class="nav-text">Redis</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#数据类型："><span class="nav-number">4.1.</span> <span class="nav-text">数据类型：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Redis的持久化"><span class="nav-number">4.2.</span> <span class="nav-text">Redis的持久化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Redis的同步机制"><span class="nav-number">4.3.</span> <span class="nav-text">Redis的同步机制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Redis的集群管理"><span class="nav-number">4.4.</span> <span class="nav-text">Redis的集群管理</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Java"><span class="nav-number">5.</span> <span class="nav-text">Java</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#平台无关性"><span class="nav-number">5.1.</span> <span class="nav-text">平台无关性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JVM如何加载-class文件"><span class="nav-number">5.2.</span> <span class="nav-text">JVM如何加载.class文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#反射"><span class="nav-number">5.3.</span> <span class="nav-text">反射</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ClassLoader"><span class="nav-number">5.4.</span> <span class="nav-text">ClassLoader</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#类加载器的双亲委派机制"><span class="nav-number">5.5.</span> <span class="nav-text">类加载器的双亲委派机制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#类的加载方式"><span class="nav-number">5.6.</span> <span class="nav-text">类的加载方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Java内存模型"><span class="nav-number">5.7.</span> <span class="nav-text">Java内存模型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#GC"><span class="nav-number">6.</span> <span class="nav-text">GC</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#判断函数"><span class="nav-number">6.1.</span> <span class="nav-text">判断函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#垃圾回收算法"><span class="nav-number">6.2.</span> <span class="nav-text">垃圾回收算法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#垃圾收集器"><span class="nav-number">6.3.</span> <span class="nav-text">垃圾收集器</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#线程"><span class="nav-number">7.</span> <span class="nav-text">线程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Java线程中start和run的区别？"><span class="nav-number">7.1.</span> <span class="nav-text">Java线程中start和run的区别？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Thread和Runnable"><span class="nav-number">7.2.</span> <span class="nav-text">Thread和Runnable</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#如何实现处理线程的返回值"><span class="nav-number">7.3.</span> <span class="nav-text">如何实现处理线程的返回值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#线程的状态"><span class="nav-number">7.4.</span> <span class="nav-text">线程的状态</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Sleep和Wait方法"><span class="nav-number">7.5.</span> <span class="nav-text">Sleep和Wait方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#notify和notifyAll"><span class="nav-number">7.6.</span> <span class="nav-text">notify和notifyAll</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#yield"><span class="nav-number">7.7.</span> <span class="nav-text">yield</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#中断线程"><span class="nav-number">7.8.</span> <span class="nav-text">中断线程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#总结"><span class="nav-number">7.9.</span> <span class="nav-text">总结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#同步和互斥的区别："><span class="nav-number">7.10.</span> <span class="nav-text">同步和互斥的区别：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#进程间的通信方式："><span class="nav-number">7.11.</span> <span class="nav-text">进程间的通信方式：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#线程间通信"><span class="nav-number">7.12.</span> <span class="nav-text">线程间通信</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#线程间的同步方式有四种"><span class="nav-number">7.13.</span> <span class="nav-text">线程间的同步方式有四种</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#synchronized"><span class="nav-number">7.14.</span> <span class="nav-text">synchronized</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#synchronized的底层实现"><span class="nav-number">7.15.</span> <span class="nav-text">synchronized的底层实现</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#自旋锁和自适应自旋锁"><span class="nav-number">7.16.</span> <span class="nav-text">自旋锁和自适应自旋锁</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#锁的内存语义"><span class="nav-number">7.17.</span> <span class="nav-text">锁的内存语义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JMM"><span class="nav-number">7.18.</span> <span class="nav-text">JMM</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CAS"><span class="nav-number">7.19.</span> <span class="nav-text">CAS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Java线程池"><span class="nav-number">7.20.</span> <span class="nav-text">Java线程池</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Java异常"><span class="nav-number">8.</span> <span class="nav-text">Java异常</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Java集合框架"><span class="nav-number">9.</span> <span class="nav-text">Java集合框架</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#集合总结"><span class="nav-number">9.1.</span> <span class="nav-text">集合总结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Map家族"><span class="nav-number">9.2.</span> <span class="nav-text">Map家族</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#选用"><span class="nav-number">9.3.</span> <span class="nav-text">选用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HashSet"><span class="nav-number">9.4.</span> <span class="nav-text">HashSet</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TreeSet"><span class="nav-number">9.5.</span> <span class="nav-text">TreeSet</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HashMap"><span class="nav-number">9.6.</span> <span class="nav-text">HashMap</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HashTable"><span class="nav-number">9.7.</span> <span class="nav-text">HashTable</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ConcurrentHashMap"><span class="nav-number">9.8.</span> <span class="nav-text">ConcurrentHashMap</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JUC"><span class="nav-number">9.9.</span> <span class="nav-text">JUC</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JUC：BlockingQueue阻塞队列"><span class="nav-number">9.10.</span> <span class="nav-text">JUC：BlockingQueue阻塞队列</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IO"><span class="nav-number">9.11.</span> <span class="nav-text">IO</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#BIO"><span class="nav-number">9.11.1.</span> <span class="nav-text">BIO</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#NIO-Java4引入"><span class="nav-number">9.11.2.</span> <span class="nav-text">NIO-Java4引入</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#AIO：异步非阻塞IO"><span class="nav-number">9.11.3.</span> <span class="nav-text">AIO：异步非阻塞IO</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#小结"><span class="nav-number">9.11.4.</span> <span class="nav-text">小结</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Spring"><span class="nav-number">10.</span> <span class="nav-text">Spring</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#SpringIOC"><span class="nav-number">10.1.</span> <span class="nav-text">SpringIOC</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#依赖倒置原则、IOC、DI、IOC容器的关系"><span class="nav-number">10.1.1.</span> <span class="nav-text">依赖倒置原则、IOC、DI、IOC容器的关系</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#IOC容器"><span class="nav-number">10.1.2.</span> <span class="nav-text">IOC容器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#核心接口"><span class="nav-number">10.1.3.</span> <span class="nav-text">核心接口</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#BeanFactory接口"><span class="nav-number">10.1.3.1.</span> <span class="nav-text">BeanFactory接口</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#ApplicationContext接口"><span class="nav-number">10.1.3.2.</span> <span class="nav-text">ApplicationContext接口</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#案例分析"><span class="nav-number">10.1.4.</span> <span class="nav-text">案例分析</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Bean装载案例："><span class="nav-number">10.1.4.1.</span> <span class="nav-text">Bean装载案例：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Bean依赖注入案例："><span class="nav-number">10.1.4.2.</span> <span class="nav-text">Bean依赖注入案例：</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#getBean-解析"><span class="nav-number">10.1.5.</span> <span class="nav-text">getBean()解析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Bean-的作用域"><span class="nav-number">10.1.6.</span> <span class="nav-text">Bean 的作用域</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Bean-的生命周期"><span class="nav-number">10.1.7.</span> <span class="nav-text">Bean 的生命周期</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SpringAOP"><span class="nav-number">10.2.</span> <span class="nav-text">SpringAOP</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mr.Zhang</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
